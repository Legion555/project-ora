(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{62:function(e,t,a){},63:function(e,t,a){},84:function(e,t,a){"use strict";a.r(t);var c=a(2),s=a(1),n=a.n(s),i=a(11),r=a.n(i),l=(a(62),a(5)),o=(a(63),a(7)),j=a.n(o),u=Object(s.createContext)(),d=function(e){var t=Object(s.useState)({}),a=Object(l.a)(t,2),n=a[0],i=a[1];return Object(c.jsx)(u.Provider,{value:[n,i],children:e.children})},b=a(115),h=function(e){var t=Object(s.useContext)(u),a=Object(l.a)(t,2),n=(a[0],a[1]),i=Object(s.useState)(""),r=Object(l.a)(i,2),o=(r[0],r[1],Object(s.useState)("login")),d=Object(l.a)(o,2),h=(d[0],d[1],Object(s.useState)("")),O=Object(l.a)(h,2),m=(O[0],O[1],Object(s.useState)("")),x=Object(l.a)(m,2);x[0],x[1];Object(s.useEffect)((function(){var t=localStorage.getItem("userEmail"),a=localStorage.getItem("userPassword");if(null!==t){var c={email:t,password:a};j.a.post("/api/users/login",c).then((function(a){j.a.get("/api/users",{params:{email:t}}).then((function(t){var a=t.data;n(a),e.setLoggedIn(!0)})).catch((function(e){console.log(e)}))}))}}),[]);return Object(c.jsx)("div",{className:"auth-wrapper",children:Object(c.jsxs)("div",{className:"auth-container",children:[Object(c.jsx)("div",{children:Object(c.jsx)(b.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(t){t.preventDefault();j.a.post("/api/users/login",{email:"legion@gmail.com",password:"legion555"}).then((function(t){j.a.get("/api/users",{params:{email:"legion@gmail.com"}}).then((function(t){var a=t.data;n(a),e.setView("admin")}))}))},children:"Login as admin"})}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{children:Object(c.jsx)(b.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(t){t.preventDefault();j.a.post("/api/users/login",{email:"testmanager@gmail.com",password:"testmanager123"}).then((function(t){j.a.get("/api/users",{params:{email:"testmanager@gmail.com"}}).then((function(t){var a=t.data;n(a),e.setView("manager")}))}))},children:"Login as manager"})}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{})]})})},O=a(14),m=function(e){return Object(c.jsx)("div",{className:"logout",children:Object(c.jsx)("p",{onClick:function(){localStorage.clear(),e.setView("authentication")},children:Object(c.jsx)(O.d,{})})})},x=a(114),v=function(e){localStorage.getItem("userToken");var t=Object(s.useState)({}),a=Object(l.a)(t,2),n=a[0],i=a[1],r=Object(s.useState)({}),o=Object(l.a)(r,2),u=(o[0],o[1]),d=Object(s.useState)(""),h=Object(l.a)(d,2),O=h[0],m=h[1],v=Object(s.useState)(""),f=Object(l.a)(v,2),g=f[0],p=f[1],w=Object(s.useState)(""),N=Object(l.a)(w,2),_=N[0],V=N[1];Object(s.useEffect)((function(){C(),e.setSubView("view-list")}),[]);var C=function(){j.a.get("./api/schools").then((function(e){i(e.data),j.a.get("./api/managers").then((function(e){u(e.data)})).catch((function(e){console.error("Error: "+e)}))})).catch((function(e){console.error("Error: "+e)}))};return Object(c.jsxs)("div",{className:"schools-container section__container",children:[Object(c.jsxs)("div",{className:"section-nav",children:[Object(c.jsxs)("h3",{children:["view-list"===e.subView&&"View schools","create-school"===e.subView&&"Create school"]}),Object(c.jsxs)("p",{children:["Schools / ","view-list"===e.subView&&"View schools","create-school"===e.subView&&"Create school"]})]}),"view-list"===e.subView&&Object(c.jsx)("div",{className:"content-container",children:n.length>0&&n.map((function(e){return Object(c.jsxs)("div",{className:"school-info",children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsxs)("p",{children:["Address: ",e.address]}),Object(c.jsxs)("p",{children:["Manager: ",e.manager&&e.manager.name]}),Object(c.jsx)("button",{onClick:function(t){return function(e,t){e.preventDefault(),j.a.delete("/api/schools/deleteSchool/"+t).then((function(e){C()})).catch((function(e){console.log(e)}))}(t,e._id)},children:"Delete school"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{})]},e._id)}))}),"create-school"===e.subView&&Object(c.jsx)("div",{className:"content-container",children:Object(c.jsxs)("form",{className:"create-school__form",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)(x.a,{fullWidth:!0,variant:"outlined",label:"School name",className:"input",onChange:function(e){return m(e.target.value)},value:O}),Object(c.jsx)(x.a,{fullWidth:!0,variant:"outlined",label:"School address",className:"input",onChange:function(e){return p(e.target.value)},value:g}),Object(c.jsx)(x.a,{fullWidth:!0,variant:"outlined",label:"School contact number",className:"input",onChange:function(e){return V(e.target.value)},value:_})]}),Object(c.jsx)(b.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(t){t.preventDefault();var a={name:O,address:g,contactNumber:_};j.a.post("/api/schools/createSchool",a).then((function(t){C(),e.setSubView("view-list"),m(""),p(""),V("")})).catch((function(e){console.log(e)}))},children:"Create school"})]})})]})},f=function(e){localStorage.getItem("userToken");var t=Object(s.useState)({}),a=Object(l.a)(t,2),n=a[0],i=a[1],r=Object(s.useState)({}),o=Object(l.a)(r,2),u=o[0],d=o[1],h=Object(s.useState)(""),m=Object(l.a)(h,2),v=m[0],f=m[1],g=Object(s.useState)(""),p=Object(l.a)(g,2),w=p[0],N=p[1],_=Object(s.useState)(""),V=Object(l.a)(_,2),C=V[0],k=V[1],S=Object(s.useState)(""),D=Object(l.a)(S,2),I=D[0],T=D[1],W=Object(s.useState)(""),E=Object(l.a)(W,2),A=E[0],y=E[1];Object(s.useEffect)((function(){M()}),[]);var M=function(){j.a.get("./api/managers").then((function(t){i(t.data),j.a.get("./api/schools").then((function(t){d(t.data),e.setSubView("view-list")})).catch((function(e){console.log(e)}))})).catch((function(e){console.error("Error: "+e)}))};return Object(c.jsxs)("div",{className:"managers-container section__container",children:[Object(c.jsxs)("div",{className:"section-nav",children:[Object(c.jsxs)("h3",{children:["view-list"===e.subView&&"View managers","create-manager"===e.subView&&"Create manager","assign-manager"===e.subView&&"Assign manager"]}),Object(c.jsxs)("p",{children:["Managers / ","view-list"===e.subView&&"View managers","create-manager"===e.subView&&"Create manager","assign-manager"===e.subView&&"Assign manager"]})]}),"view-list"===e.subView&&Object(c.jsx)("div",{className:"content-container view-managers__container",children:n.length>0&&n.map((function(e){return Object(c.jsxs)("div",{className:"manager__card",children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsxs)("p",{children:["School: ",e.school.name]}),Object(c.jsx)("button",{onClick:function(t){return function(e,t){e.preventDefault(),j.a.delete("/api/managers/deleteManager/"+t).then((function(e){M()})).catch((function(e){console.log(e)}))}(t,e._id)},children:"Delete manager"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{})]},e._id)}))}),"create-manager"===e.subView&&Object(c.jsx)("div",{className:"content-container",children:Object(c.jsxs)("form",{className:"create-manager",children:[Object(c.jsx)(x.a,{fullWidth:!0,variant:"outlined",label:"Manager name",className:"input",onChange:function(e){return f(e.target.value)},value:v}),Object(c.jsx)(x.a,{fullWidth:!0,variant:"outlined",label:"Manager email",className:"input",onChange:function(e){return N(e.target.value)},value:w}),Object(c.jsx)(x.a,{fullWidth:!0,variant:"outlined",label:"Manager password",className:"input",onChange:function(e){return k(e.target.value)},value:C}),Object(c.jsx)(b.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(t){t.preventDefault();var a={name:v,email:w,password:C};j.a.post("/api/managers/createManager",a).then((function(t){M(),e.setSubView("view-list"),f(""),N(""),k("")})).catch((function(e){console.log(e)}))},children:"Create manager"})]})}),"assign-manager"===e.subView&&Object(c.jsx)("div",{className:"content-container",children:Object(c.jsxs)("form",{className:"assign-manager",children:[Object(c.jsxs)("div",{className:"assignment__container",children:[Object(c.jsx)("div",{children:Object(c.jsxs)("select",{value:A,onChange:function(e){return y(e.target.value)},children:[Object(c.jsx)("option",{value:"",disabled:!0,children:"Choose a manager"}),n.map((function(e){return Object(c.jsx)("option",{value:e._id,children:e.name},e._id)}))]})}),Object(c.jsx)("div",{children:Object(c.jsx)(O.a,{className:"icon"})}),Object(c.jsx)("div",{children:Object(c.jsxs)("select",{value:I,onChange:function(e){return T(e.target.value)},children:[Object(c.jsx)("option",{value:"",disabled:!0,children:"Choose a school"}),u.map((function(e){return!e.manager&&Object(c.jsx)("option",{value:e._id,children:e.name},e._id)}))]})})]}),Object(c.jsx)(b.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(t){return function(t){t.preventDefault();var a=n.filter((function(e){return e._id===A})),c=u.filter((function(e){return e._id===I})),s={schoolId:c[0]._id,schoolName:c[0].name,managerId:a[0]._id,managerName:a[0].name};j.a.put("/api/schools/addManager",s).then((function(t){j.a.put("/api/managers/addSchoolRef",s).then((function(t){M(),e.setSubView("view-list")})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}(t)},children:"Assign"})]})})]})},g=a(18),p=a(27),w=a.p+"static/media/circle.423a605e.png",N=function(e){localStorage.getItem("userToken");var t=Object(s.useState)("default"),a=Object(l.a)(t,2),n=a[0],i=a[1],r=Object(s.useState)("view-list"),o=Object(l.a)(r,2),j=o[0],d=o[1],b=Object(s.useContext)(u),h=Object(l.a)(b,2),x=h[0];h[1];return Object(c.jsxs)("div",{className:"dashboard",children:[Object(c.jsxs)("div",{className:"navigation-container",children:[Object(c.jsxs)("div",{className:"links",children:[Object(c.jsx)("img",{src:w,alt:"profile",width:"60px"}),Object(c.jsxs)("p",{children:[x.name,Object(c.jsx)("br",{}),Object(c.jsx)("i",{children:"Admin"}),Object(c.jsx)("br",{}),Object(c.jsx)("strong",{children:x.school&&x.school.name})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"nav-item",children:Object(c.jsxs)("p",{className:"default"===n?"main-link main-link__active":"main-link",onClick:function(){return i("default")},children:[Object(c.jsx)(g.a,{className:"icon"}),Object(c.jsx)("br",{}),"Dashboard"]})}),Object(c.jsxs)("div",{className:"nav-item",children:[Object(c.jsxs)("p",{className:"schools"===n?"main-link main-link__active":"main-link",onClick:function(){return i("schools")},children:[Object(c.jsx)(O.e,{className:"icon"}),Object(c.jsx)("br",{}),"Schools"]}),Object(c.jsxs)("div",{className:"schools"===n?"sub-link__container active":"sub-link__container hidden",children:[Object(c.jsxs)("p",{onClick:function(){return d("view-list")},children:[Object(c.jsx)(O.b,{})," View"]}),Object(c.jsxs)("p",{onClick:function(){return d("create-school")},children:[Object(c.jsx)(O.c,{})," Create"]})]})]}),Object(c.jsxs)("div",{className:"nav-item",children:[Object(c.jsxs)("p",{className:"managers"===n?"main-link main-link__active":"main-link",onClick:function(){return i("managers")},children:[Object(c.jsx)(g.b,{className:"icon"}),Object(c.jsx)("br",{}),"Managers"]}),Object(c.jsxs)("div",{className:"managers"===n?"sub-link__container active":"sub-link__container hidden",children:[Object(c.jsxs)("p",{onClick:function(){return d("view-list")},children:[Object(c.jsx)(O.b,{})," View"]}),Object(c.jsxs)("p",{onClick:function(){return d("create-manager")},children:[Object(c.jsx)(O.c,{})," Create"]}),Object(c.jsxs)("p",{onClick:function(){return d("assign-manager")},children:[Object(c.jsx)(p.a,{})," Assign to",Object(c.jsx)("br",{}),"school"]})]})]})]})]}),Object(c.jsx)(m,{setView:e.setView})]}),Object(c.jsxs)("div",{className:"content-container",children:["default"===n&&Object(c.jsx)("div",{className:"default-container",children:Object(c.jsxs)("div",{className:"dashboard-container",children:[Object(c.jsxs)("div",{className:"section-card",children:[Object(c.jsx)("h1",{children:"Schools"}),Object(c.jsx)(O.e,{className:"icon"}),Object(c.jsx)("button",{onClick:function(){return i("schools")},children:"View"})]}),Object(c.jsxs)("div",{className:"section-card",children:[Object(c.jsx)("h1",{children:"Managers"}),Object(c.jsx)(g.b,{className:"icon"}),Object(c.jsx)("button",{onClick:function(){return i("managers")},children:"View"})]})]})}),"schools"===n&&Object(c.jsx)(v,{setView:i,subView:j,setSubView:d,userData:x}),"managers"===n&&Object(c.jsx)(f,{setView:i,subView:j,setSubView:d,userData:x})]})]})},_=function(e){localStorage.getItem("userToken");var t=Object(s.useState)({}),a=Object(l.a)(t,2),n=a[0],i=a[1],r=Object(s.useState)(""),o=Object(l.a)(r,2),u=o[0],d=o[1],h=Object(s.useState)(""),O=Object(l.a)(h,2),m=O[0],v=O[1],f=Object(s.useState)(""),g=Object(l.a)(f,2),p=g[0],N=g[1];Object(s.useEffect)((function(){_()}),[]);var _=function(){switch(e.userData.authority){case"admin":j.a.get("./api/teachers").then((function(e){i(e.data)})).catch((function(e){console.error("Error: "+e)}));break;case"manager":j.a.get("./api/teachers/readAuthorizedTeachers",{params:{schoolId:e.userData.school.id}}).then((function(e){i(e.data)})).catch((function(e){console.error("Error: "+e)}))}};return Object(c.jsxs)("div",{className:"teachers-container section__container",children:[Object(c.jsxs)("div",{className:"section-nav",children:[Object(c.jsxs)("h3",{children:["view-list"===e.subView&&"View teachers","create-teacher"===e.subView&&"Create teacher"]}),Object(c.jsxs)("p",{children:["Teachers / ","view-list"===e.subView&&"View teachers","create-teacher"===e.subView&&"Create teacher"]})]}),"view-list"===e.subView&&Object(c.jsx)("div",{className:"content-container view-teachers__container",children:n.length>0&&n.map((function(t){return Object(c.jsxs)("div",{className:"teacher__card",children:[Object(c.jsx)("img",{src:w,alt:"profile",width:"75px"}),Object(c.jsx)("h1",{children:t.name}),Object(c.jsx)("p",{children:"Classes: "}),t.classes.map((function(e){return Object(c.jsx)("p",{children:e.name},e.id)})),Object(c.jsx)("button",{onClick:function(a){return function(t,a){t.preventDefault(),j.a.delete("/api/teachers/deleteTeacher/"+a).then((function(t){var c={schoolId:e.userData.school.id,teacherId:a};j.a.put("/api/schools/removeTeacher",c).then((function(e){_()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}(a,t._id)},children:"Delete teacher"})]},t._id)}))}),"create-teacher"===e.subView&&Object(c.jsx)("div",{className:"content-container",children:Object(c.jsxs)("form",{className:"create-teacher",children:[Object(c.jsx)(x.a,{fullWidth:!0,variant:"outlined",label:"Teacher name",className:"input",onChange:function(e){return d(e.target.value)},value:u}),Object(c.jsx)(x.a,{fullWidth:!0,variant:"outlined",label:"Teacher email",className:"input",onChange:function(e){return v(e.target.value)},value:m}),Object(c.jsx)(x.a,{fullWidth:!0,variant:"outlined",label:"Teacher password",className:"input",onChange:function(e){return N(e.target.value)},value:p}),Object(c.jsx)(b.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(t){t.preventDefault();var a={name:u,email:m,password:p,schoolName:e.userData.school.name,schoolId:e.userData.school.id};j.a.post("/api/teachers/createTeacher",a).then((function(t){console.log(t);var a={schoolId:t.data.school.id,teacherName:t.data.name,teacherId:t.data._id};j.a.put("/api/schools/addTeacher",a).then((function(t){_(),e.setSubView("view-list"),d(""),v(""),N("")})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},children:"Create teacher"})]})})]})},V=function(e){localStorage.getItem("userToken");var t=Object(s.useState)({}),a=Object(l.a)(t,2),n=a[0],i=a[1],r=Object(s.useState)({}),o=Object(l.a)(r,2),u=o[0],d=o[1],h=Object(s.useState)(""),O=Object(l.a)(h,2),m=O[0],v=O[1],f=Object(s.useState)(""),g=Object(l.a)(f,2),p=g[0],w=g[1],N=Object(s.useState)(""),_=Object(l.a)(N,2),V=_[0],C=_[1];Object(s.useEffect)((function(){return k(),S(),function(){i({}),d({})}}),[]);var k=function(){j.a.get("./api/classes/readSchoolClasses",{params:{schoolId:e.userData.school.id}}).then((function(e){i(e.data)})).catch((function(e){console.error("Error: "+e)}))},S=function(){j.a.get("./api/teachers/readAuthorizedTeachers",{params:{schoolId:e.userData.school.id}}).then((function(t){d(t.data),e.setSubView("view-list")})).catch((function(e){console.error("Error: "+e)}))};return Object(c.jsxs)("div",{className:"classes-container section__container",children:[Object(c.jsxs)("div",{className:"section-nav",children:[Object(c.jsxs)("h3",{children:["view-list"===e.subView&&"View classes","create-class"===e.subView&&"Create class","assign-teacher"===e.subView&&"Assign teacher"]}),Object(c.jsxs)("p",{children:["Classes / ","view-list"===e.subView&&"View classes","create-class"===e.subView&&"Create class","assign-teacher"===e.subView&&"Assign teacher"]})]}),"view-list"===e.subView&&Object(c.jsx)("div",{className:"content-container view-classes__container",children:n.length>0&&n.map((function(e){return Object(c.jsxs)("div",{className:"class__card",children:[Object(c.jsx)("h1",{children:e.name}),Object(c.jsxs)("p",{children:["Teacher: ",e.teacher.name]}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{})]},e._id)}))}),"create-class"===e.subView&&Object(c.jsx)("div",{className:"content-container",children:Object(c.jsxs)("form",{className:"add-class",children:[Object(c.jsx)(x.a,{fullWidth:!0,variant:"outlined",label:"Class name",className:"input",onChange:function(e){return v(e.target.value)},value:m}),Object(c.jsx)(b.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(t){t.preventDefault();var a={className:m,schoolName:e.userData.school.name,schoolId:e.userData.school.id};j.a.post("/api/classes/createClass",a).then((function(t){var a={schoolId:e.userData.school.id,className:t.data.name,classId:t.data._id};j.a.put("/api/schools/addClass",a).then((function(t){k(),e.setSubView("view-list"),v("")})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},children:"Create class"})]})}),"assign-teacher"===e.subView&&Object(c.jsx)("div",{className:"content-container",children:Object(c.jsxs)("form",{className:"assign-teacher",children:[Object(c.jsxs)("div",{className:"assignment__container",children:[Object(c.jsx)("div",{children:Object(c.jsxs)("select",{value:p,onChange:function(e){return w(e.target.value)},children:[Object(c.jsx)("option",{value:"",disabled:!0,children:"Choose a class"}),n.map((function(e){return"unassigned"===e.teacher.name&&Object(c.jsx)("option",{value:e._id,children:e.name},e._id)}))]})}),Object(c.jsx)("div",{children:Object(c.jsxs)("select",{value:V,onChange:function(e){return C(e.target.value)},children:[Object(c.jsx)("option",{value:"",disabled:!0,children:"Choose a teacher"}),u.map((function(e){return Object(c.jsx)("option",{value:e._id,children:e.name},e._id)}))]})})]}),Object(c.jsx)(b.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(t){return function(t){t.preventDefault();var a=n.filter((function(e){return e._id===p})),c=u.filter((function(e){return e._id===V})),s={classId:a[0]._id,className:a[0].name,teacherId:c[0]._id,teacherName:c[0].name};j.a.put("/api/classes/addTeacher",s).then((function(t){c[0].classes.some((function(e){return e.id===a[0]._id}))?k():j.a.put("/api/teachers/addClass",s).then((function(t){k(),e.setSubView("view-list")})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}(t)},children:"Assign Teacher"})]})})]})},C=a(51),k=a(31),S=function(e){localStorage.getItem("userToken");var t=Object(s.useState)("default"),a=Object(l.a)(t,2),n=a[0],i=a[1],r=Object(s.useState)("view-list"),o=Object(l.a)(r,2),j=o[0],d=o[1],b=Object(s.useContext)(u),h=Object(l.a)(b,2),x=h[0];h[1];return Object(c.jsxs)("div",{className:"dashboard",children:[Object(c.jsxs)("div",{className:"navigation-container",children:[Object(c.jsxs)("div",{className:"links",children:[Object(c.jsx)("img",{src:w,alt:"profile",width:"60px"}),Object(c.jsxs)("p",{children:[x.name,Object(c.jsx)("br",{}),Object(c.jsx)("i",{children:"Manager"}),Object(c.jsx)("br",{}),Object(c.jsx)("strong",{children:x.school&&x.school.name})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"nav-item",children:Object(c.jsxs)("p",{className:"default"===n?"main-link main-link__active":"main-link",onClick:function(){return i("default")},children:[Object(c.jsx)(g.a,{className:"icon"}),Object(c.jsx)("br",{}),"Dashboard"]})}),Object(c.jsxs)("div",{className:"nav-item",children:[Object(c.jsxs)("p",{className:"teachers"===n?"main-link main-link__active":"main-link",onClick:function(){return i("teachers")},children:[Object(c.jsx)(g.b,{className:"icon"}),Object(c.jsx)("br",{}),"Teachers"]}),Object(c.jsxs)("div",{className:"teachers"===n?"sub-link__container active":"sub-link__container hidden",children:[Object(c.jsxs)("p",{onClick:function(){return d("view-list")},children:[Object(c.jsx)(O.b,{})," View"]}),Object(c.jsxs)("p",{onClick:function(){return d("create-teacher")},children:[Object(c.jsx)(O.c,{})," Create"]})]})]}),Object(c.jsxs)("div",{className:"nav-item",children:[Object(c.jsxs)("p",{className:"manager-classes"===n?"main-link main-link__active":"main-link",onClick:function(){return i("manager-classes")},children:[Object(c.jsx)(k.a,{className:"icon"}),Object(c.jsx)("br",{}),"Classes"]}),Object(c.jsxs)("div",{className:"manager-classes"===n?"sub-link__container active":"sub-link__container hidden",children:[Object(c.jsxs)("p",{onClick:function(){return d("view-list")},children:[Object(c.jsx)(O.b,{})," View"]}),Object(c.jsxs)("p",{onClick:function(){return d("create-class")},children:[Object(c.jsx)(O.c,{})," Create"]}),Object(c.jsxs)("p",{onClick:function(){return d("assign-teacher")},children:[Object(c.jsx)(p.a,{})," Assign",Object(c.jsx)("br",{}),"teacher"]})]})]})]})]}),Object(c.jsx)(m,{setView:e.setView})]}),Object(c.jsxs)("div",{className:"content-container",children:["default"===n&&Object(c.jsx)("div",{className:"default-container",children:Object(c.jsxs)("div",{className:"dashboard-container",children:[Object(c.jsxs)("div",{className:"section-card",children:[Object(c.jsx)("h1",{children:"Teachers"}),Object(c.jsx)(C.a,{className:"icon"}),Object(c.jsx)("button",{onClick:function(){return i("teachers")},children:"View"})]}),Object(c.jsxs)("div",{className:"section-card",children:[Object(c.jsx)("h1",{children:"Classes"}),Object(c.jsx)(k.a,{className:"icon"}),Object(c.jsx)("button",{onClick:function(){return i("manager-classes")},children:"View details"})]})]})}),"teachers"===n&&Object(c.jsx)(_,{setView:i,subView:j,setSubView:d,userData:x}),"manager-classes"===n&&Object(c.jsx)(V,{setView:i,subView:j,setSubView:d,userData:x})]})]})},D=function(e){localStorage.getItem("userToken");var t=Object(s.useState)({}),a=Object(l.a)(t,2),n=a[0],i=a[1];Object(s.useEffect)((function(){r()}),[]);var r=function(){j.a.get("./api/classes/readTeacherClasses",{params:{teacherId:e.userData._id}}).then((function(t){i(t.data),e.setSubView("view-list")})).catch((function(e){console.error("Error: "+e)}))},o={name:"",email:"",password:""};return Object(c.jsxs)("div",{className:"classes-container section__container",children:[Object(c.jsxs)("div",{className:"section-nav",children:[Object(c.jsxs)("h3",{children:["view-list"===e.subView&&"View classes","create-class"===e.subView&&"Create class","assign-teacher"===e.subView&&"Assign teacher"]}),Object(c.jsxs)("p",{children:["Classes / ","view-list"===e.subView&&"View classes","create-class"===e.subView&&"Create class","assign-teacher"===e.subView&&"Assign teacher"]})]}),"view-list"===e.subView&&Object(c.jsx)("div",{className:"content-container view-classes__container",children:n.length>0&&n.map((function(e){return Object(c.jsxs)("div",{className:"class__card",children:[Object(c.jsx)("h1",{children:e.name}),Object(c.jsx)("br",{}),Object(c.jsx)(b.a,{fullWidth:!0,variant:"contained",color:"primary",children:"View details"})]},e._id)}))}),"create-student"===e.subView&&Object(c.jsx)("div",{className:"content-container create-student__container",children:Object(c.jsxs)("form",{className:"create-student",children:[Object(c.jsx)(x.a,{fullWidth:!0,variant:"outlined",label:"Class name",className:"input",onChange:function(e){return o.name=e.target.value},value:o.name}),Object(c.jsx)(b.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(e){},children:"Create student"})]})})]})},I=function(e){var t=Math.floor(1e4*Math.random());return"ST_".concat(e,"_").concat(t)},T=function(e){localStorage.getItem("userToken");var t=Object(s.useState)({}),a=Object(l.a)(t,2),n=a[0],i=a[1],r=Object(s.useState)({}),o=Object(l.a)(r,2),u=o[0],d=o[1];Object(s.useEffect)((function(){h()}),[]);var h=function(){j.a.get("./api/classes/readTeacherClasses",{params:{teacherId:e.userData._id}}).then((function(t){d(t.data);var a=t.data.map((function(e){return e.students})).flat(1);i(a),e.setSubView("view-list")})).catch((function(e){console.error("Error: "+e)}))},O=Object(s.useState)(""),m=Object(l.a)(O,2),v=m[0],f=m[1],g=Object(s.useState)(""),p=Object(l.a)(g,2),w=p[0],N=p[1],_=Object(s.useState)(""),V=Object(l.a)(_,2),C=V[0],k=V[1],S=Object(s.useState)(""),D=Object(l.a)(S,2),T=D[0],W=D[1];return Object(c.jsxs)("div",{className:"students-container section__container",children:[Object(c.jsxs)("div",{className:"section-nav",children:[Object(c.jsxs)("h3",{onClick:function(){return console.log(n)},children:["view-list"===e.subView&&"View students","create-class"===e.subView&&"Create class","assign-teacher"===e.subView&&"Assign teacher"]}),Object(c.jsxs)("p",{children:["Classes / ","view-list"===e.subView&&"View classes","create-class"===e.subView&&"Create class","assign-teacher"===e.subView&&"Assign teacher"]})]}),"view-list"===e.subView&&Object(c.jsx)("div",{className:"content-container view-students__container",children:n.length>0&&n.map((function(e){return Object(c.jsxs)("div",{className:"student__card",children:[Object(c.jsx)("h1",{children:e.name}),Object(c.jsxs)("p",{children:["Class: ",e.class]}),Object(c.jsx)("br",{}),Object(c.jsx)(b.a,{fullWidth:!0,variant:"contained",color:"primary",children:"View details"})]},e._id)}))}),"create-student"===e.subView&&Object(c.jsx)("div",{className:"content-container create-student__container",children:Object(c.jsxs)("form",{className:"create-student",children:[Object(c.jsx)(x.a,{fullWidth:!0,variant:"outlined",label:"Student name",className:"input",onChange:function(e){return f(e.target.value)},value:v}),Object(c.jsx)(x.a,{fullWidth:!0,variant:"outlined",label:"Student email",className:"input",onChange:function(e){return N(e.target.value)},value:w}),Object(c.jsx)(x.a,{fullWidth:!0,variant:"outlined",label:"Student age",className:"input",onChange:function(e){return k(e.target.value)},value:C}),Object(c.jsxs)("select",{value:T,onChange:function(e){return W(e.target.value)},children:[Object(c.jsx)("option",{value:"",disabled:!0,children:"Choose a class"}),u.map((function(e){return e.name&&Object(c.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),Object(c.jsx)(b.a,{fullWidth:!0,variant:"contained",color:"primary",onClick:function(t){t.preventDefault();var a={studentId:I(v),studentName:v,studentEmail:w,studentAge:C,classId:T};j.a.put("/api/classes/createStudent",a).then((function(t){var a={schoolId:e.userData.school.id,className:t.data.name,classId:t.data._id};j.a.put("/api/schools/addClass",a).then((function(t){h(),e.setSubView("view-list")})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},children:"Create student"})]})})]})},W=function(e){localStorage.getItem("userToken");var t=Object(s.useState)("default"),a=Object(l.a)(t,2),n=a[0],i=a[1],r=Object(s.useState)("view-list"),o=Object(l.a)(r,2),j=o[0],d=o[1],b=Object(s.useContext)(u),h=Object(l.a)(b,2),x=h[0];h[1];return Object(c.jsxs)("div",{className:"dashboard",children:[Object(c.jsxs)("div",{className:"navigation-container",children:[Object(c.jsxs)("div",{className:"links",children:[Object(c.jsx)("img",{src:w,alt:"profile",width:"60px"}),Object(c.jsxs)("p",{children:[x.name,Object(c.jsx)("br",{}),Object(c.jsx)("i",{children:"Teacher"}),Object(c.jsx)("br",{}),Object(c.jsx)("strong",{children:x.school&&x.school.name})]}),Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{className:"nav-item",children:Object(c.jsxs)("p",{className:"default"===n?"main-link main-link__active":"main-link",onClick:function(){return i("default")},children:[Object(c.jsx)(g.a,{className:"icon"}),Object(c.jsx)("br",{}),"Dashboard"]})}),Object(c.jsxs)("div",{className:"nav-item",children:[Object(c.jsxs)("p",{className:"teacher-classes"===n?"main-link main-link__active":"main-link",onClick:function(){return i("teacher-classes")},children:[Object(c.jsx)(k.a,{className:"icon"}),Object(c.jsx)("br",{}),"Classes"]}),Object(c.jsxs)("div",{className:"teacher-classes"===n?"sub-link__container active":"sub-link__container hidden",children:[Object(c.jsxs)("p",{onClick:function(){return d("view-list")},children:[Object(c.jsx)(O.b,{})," View"]}),Object(c.jsxs)("p",{onClick:function(){return d("assign-student")},children:[Object(c.jsx)(p.a,{})," Assign",Object(c.jsx)("br",{}),"student"]})]})]}),Object(c.jsxs)("div",{className:"nav-item",children:[Object(c.jsxs)("p",{className:"teacher-students"===n?"main-link main-link__active":"main-link",onClick:function(){return i("teacher-students")},children:[Object(c.jsx)(O.f,{className:"icon"}),Object(c.jsx)("br",{}),"Students"]}),Object(c.jsxs)("div",{className:"teacher-students"===n?"sub-link__container active":"sub-link__container hidden",children:[Object(c.jsxs)("p",{onClick:function(){return d("view-list")},children:[Object(c.jsx)(O.b,{})," View"]}),Object(c.jsxs)("p",{onClick:function(){return d("create-student")},children:[Object(c.jsx)(O.c,{})," Create",Object(c.jsx)("br",{}),"student"]})]})]})]})]}),Object(c.jsx)(m,{setView:e.setView})]}),Object(c.jsxs)("div",{className:"content-container",children:["default"===n&&Object(c.jsx)("div",{className:"default-container",children:Object(c.jsx)("div",{className:"dashboard-container",children:Object(c.jsxs)("div",{className:"section-card",children:[Object(c.jsx)("h1",{children:"Classes"}),Object(c.jsx)(k.a,{className:"icon"}),Object(c.jsx)("button",{onClick:function(){return i("teacher-classes")},children:"View details"})]})})}),"teacher-classes"===n&&Object(c.jsx)(D,{setView:i,subView:j,setSubView:d,userData:x}),"teacher-students"===n&&Object(c.jsx)(T,{setView:i,subView:j,setSubView:d,userData:x})]})]})};var E=function(){var e=Object(s.useState)("authentication"),t=Object(l.a)(e,2),a=t[0],n=t[1];return Object(c.jsx)(d,{children:Object(c.jsxs)("div",{className:"app",children:["authentication"===a&&Object(c.jsx)(h,{setView:n}),"admin"===a&&Object(c.jsx)(N,{setView:n}),"manager"===a&&Object(c.jsx)(S,{setView:n}),"teacher"===a&&Object(c.jsx)(W,{setView:n})]})})};r.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(E,{})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.59e3d9b1.chunk.js.map