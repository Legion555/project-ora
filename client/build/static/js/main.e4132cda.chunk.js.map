{"version":3,"sources":["components/LoginForm.js","components/Dashboard.js","App.js","index.js"],"names":["LoginForm","props","useState","view","loginEmail","setLoginEmail","loginPassword","setLoginPassword","regName","setRegName","regEmail","setRegEmail","regPassword","setRegPassword","useEffect","details","email","localStorage","getItem","password","axios","post","then","response","setLoggedIn","className","onChange","e","target","value","placeholder","name","onClick","preventDefault","userToken","headers","setItem","payload","Dashboard","classData","setClassData","classes","setClasses","setView","studentName","setStudentName","studentAge","setStudentAge","renderCounter","setRenderCounter","get","res","console","log","data","catch","error","clear","map","_class","book","students","length","id","getClassData","_id","localTeacher","type","newClassData","student","Math","floor","random","push","put","err","age","removeIndex","indexOf","splice","deleteStudent","App","userData","setUserData","loggedIn","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e4132cda.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst LoginForm = (props) => {\r\n    //View\r\n    const [view, setView] = useState('login');\r\n    //Login\r\n    const [loginEmail, setLoginEmail] = useState('');\r\n    const [loginPassword, setLoginPassword] = useState('');\r\n    //Register\r\n    const [regName, setRegName] = useState('');\r\n    const [regEmail, setRegEmail] = useState('');\r\n    const [regPassword, setRegPassword] = useState('');\r\n\r\n    useEffect(() => {\r\n        const userEmail = localStorage.getItem('userEmail');\r\n        const userPassword = localStorage.getItem('userPassword');\r\n        const details = {\r\n            email: userEmail,\r\n            password: userPassword\r\n        }\r\n        axios.post('/api/users/login', details)\r\n        .then(function (response) {\r\n            props.setLoggedIn(true);\r\n        })\r\n    }, []);\r\n\r\n    //Login existing user - pass\r\n    const login = (e) => {\r\n        e.preventDefault();\r\n        const details = {\r\n            email: loginEmail,\r\n            password: loginPassword\r\n        }\r\n        axios.post('/api/users/login', details)\r\n        .then(function (response) {\r\n            const userToken = response.headers[\"auth-token\"];\r\n            localStorage.setItem('userToken', userToken);\r\n            localStorage.setItem('userEmail', loginEmail);\r\n            localStorage.setItem('userPassword', loginPassword);\r\n            props.setLoggedIn(true);\r\n        })\r\n    }\r\n    //Register new user\r\n    const register = (e) => {\r\n        e.preventDefault();\r\n        const payload = {\r\n        name: regName,\r\n        email: regEmail,\r\n        password: regPassword\r\n        }\r\n        axios.post('/api/users/register', payload)\r\n        .then(function (response) {\r\n        setRegName(''); setRegEmail(''); setRegPassword('');\r\n        })\r\n    }\r\n    \r\n    return (\r\n        <div className=\"auth-container\">\r\n            {view === 'login' &&\r\n            <div className=\"login-container\">\r\n                <input onChange={(e) => setLoginEmail(e.target.value)} placeholder=\"Email\" name=\"email\" value={loginEmail}></input>\r\n                <input onChange={(e) => setLoginPassword(e.target.value)} placeholder=\"Password\" name=\"password\" value={loginPassword}></input>\r\n                <button onClick={login}>Login</button>\r\n            </div>\r\n            }\r\n            {view === 'register' &&\r\n            <div className=\"register-container\">\r\n                <form className=\"input-main\">\r\n                <input onChange={(e) => setRegName(e.target.value)} placeholder=\"Name\" name=\"name\" value={regName}></input>\r\n                <input onChange={(e) => setRegEmail(e.target.value)} placeholder=\"Email\" name=\"email\" value={regEmail}></input>\r\n                <input onChange={(e) => setRegPassword(e.target.value)} placeholder=\"Password\" name=\"password\" value={regPassword}></input>\r\n                <button onClick={register}>Register</button>\r\n                </form>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginForm","import {useState} from 'react';\r\nimport axios from 'axios';\r\nimport { FaPowerOff } from 'react-icons/fa';\r\n\r\nconst Dashboard = (props) => {\r\n    const [classData, setClassData] = useState({});\r\n    const [classes, setClasses] = useState({});\r\n    //Add class\r\n    const [addClassName, setAddClassName] = useState('');\r\n    const [addClassBook, setAddClassBook] = useState('');\r\n    const [addClassLocalTeacher, setAddClassLocalTeacher] = useState('');\r\n    \r\n    const [studentData, setStudentData] = useState([]);\r\n    const [view, setView] = useState('');\r\n    //Add student\r\n    const [studentName, setStudentName] = useState('');\r\n    const [studentAge, setStudentAge] = useState('');\r\n    const [studentClass, setStudentClass] = useState('');\r\n\r\n    const [renderCounter, setRenderCounter] = useState(0);\r\n    \r\n    //FUNCTIONS\r\n    const numGen = () => {\r\n        return Math.floor(Math.random() * 100000);\r\n    }\r\n\r\n    const logout = () => {\r\n        localStorage.clear();\r\n        props.setLoggedIn(false);\r\n    }\r\n\r\n    const getStudentData = () => {\r\n        axios.get('./api/students/')\r\n        .then((res) => {\r\n        console.log(res.data);\r\n        setStudentData(res.data);\r\n        setView('students');\r\n        })\r\n        .catch((error) => {\r\n        console.error(\"Error: \" + error)\r\n        })\r\n    }\r\n    const getOneStudent = (id) => {\r\n        axios.get('./api/students/' + id)\r\n        .then((res) => {\r\n        console.log(res.data);\r\n        })\r\n        .catch((error) => {\r\n        console.error(\"Error: \" + error)\r\n        })\r\n    }\r\n\r\n    const createClass = (e) => {\r\n        e.preventDefault();\r\n        const payload = {\r\n            name: addClassName,\r\n            book: addClassBook,\r\n            localTeacher: addClassLocalTeacher,\r\n            students: []\r\n        }\r\n        axios.post('/api/classes/create', payload)\r\n        .then(function (response) {\r\n            console.log('Class added successfully.');\r\n            setAddClassName(''); setAddClassBook(''); setAddClassLocalTeacher('');\r\n        })\r\n    }\r\n    const readAllClasses = () => {\r\n        const userToken = localStorage.getItem('userToken');\r\n        axios.get('./api/classes', {\r\n        headers: {\r\n            'auth-token': userToken\r\n        }\r\n        })\r\n        .then((res) => {\r\n            console.log(res.data);\r\n            setClasses(res.data);\r\n            setView('classes');\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error: \" + error)\r\n        })\r\n    }\r\n    const getClassData = (id) => {\r\n        const userToken = localStorage.getItem('userToken');\r\n        axios.get('./api/classes/' + id, {\r\n        headers: {\r\n            'auth-token': userToken\r\n        }\r\n        })\r\n        .then((res) => {\r\n            console.log(res.data[0]);\r\n            setClassData(res.data[0]);\r\n            setView('class');\r\n        })\r\n\r\n        .catch((error) => {\r\n            console.error(\"Error: \" + error)\r\n        })\r\n    }\r\n    \r\n    //Add student\r\n    const createStudent = (e) => {\r\n        e.preventDefault();\r\n        const newClassData = classData;\r\n        const student = {\r\n          \"name\": studentName,\r\n          \"age\": studentAge,\r\n          \"class\": classData.name,\r\n          \"_id\": numGen()\r\n        }\r\n        newClassData.students.push(student);\r\n        axios.put(\"/api/classes/createStudent\", classData)\r\n        .then((res) => {\r\n            console.log(res.data);\r\n            setClassData(newClassData);\r\n            setStudentName(''); setStudentAge('');\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n    //Remove student\r\n    const deleteStudent = (id) => {\r\n        const newClassData = classData;\r\n        let removeIndex = newClassData.students.map(function(student) { return student._id; }).indexOf(id);\r\n        newClassData.students.splice(removeIndex, 1);\r\n        axios.put(\"/api/classes/deleteStudent\", newClassData)\r\n        .then((res) => {\r\n            console.log(res.data);\r\n            setClassData(newClassData);\r\n            setRenderCounter(renderCounter + 1);\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n  \r\n    return (\r\n        <div className=\"dashboard\">\r\n            <div className=\"navigation-container\">\r\n                <div className=\"links\">\r\n                    {/* <a>Profile</a> */}\r\n                    <a onClick={readAllClasses}>Classes</a>\r\n                </div>\r\n                <div className=\"logout\">\r\n                    <a onClick={logout}><FaPowerOff /></a>\r\n                </div>\r\n            </div>\r\n            {/* <form className=\"add-class-container\">\r\n                <input type=\"text\" value={addClassName} placeholder=\"Class name\" onChange={(e) => setAddClassName(e.target.value)}></input>\r\n                <input type=\"text\" value={addClassBook} placeholder=\"Class book\" onChange={(e) => setAddClassBook(e.target.value)}></input>\r\n                <input type=\"text\" value={addClassLocalTeacher} placeholder=\"Local teacher\" onChange={(e) => setAddClassLocalTeacher(e.target.value)}></input>\r\n                <button onClick={createClass}>Add class</button>\r\n            </form> */}\r\n            <div className=\"content-container\">\r\n                <div className=\"breadcrumb\">\r\n\r\n                </div>\r\n                <div className=\"classes-container\">\r\n                    {view === 'classes' && classes.map(_class => \r\n                    <div className=\"class-card\" key={_class._id}>\r\n                        <h3>{_class.name}</h3>\r\n                        <p>Book: {_class.book}</p>\r\n                        <p>Students: {_class.students.length}</p>\r\n                        <button onClick={(id) => getClassData(_class._id)}>View class</button>\r\n                    </div>\r\n                    )}\r\n                </div>\r\n                {view === 'class' &&\r\n                <div className=\"class-dashboard\">\r\n                    <div className=\"class-details-container\">\r\n                        <h2>{classData.name}</h2>\r\n                        <h2>{classData.book}</h2>\r\n                        <h2>{classData.localTeacher}</h2>\r\n                    </div>\r\n                    <form className=\"add-student-container\">\r\n                        <input type=\"text\" value={studentName} placeholder=\"name...\" onChange={(e) => setStudentName(e.target.value)}></input>\r\n                        <input type=\"text\" value={studentAge} placeholder=\"age...\" onChange={(e) => setStudentAge(e.target.value)}></input>\r\n                        <button onClick={createStudent}>Add student</button>\r\n                    </form>\r\n                    <div className=\"students-container\">\r\n                        {classData.students.map(student =>\r\n                            <div className=\"student-card\">\r\n                                <h3>{student.name}</h3>\r\n                                <p>Age: {student.age}</p>\r\n                                <button onClick={(id) => deleteStudent(student._id)}>Remove student</button>\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dashboard","import {useState, useEffect} from 'react';\nimport './App.css';\nimport LoginForm from './components/LoginForm';\nimport Dashboard from './components/Dashboard';\n\nfunction App() {\n  //STATE\n  //User data\n  const [userData, setUserData] = useState({});\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  //RENDER\n  return (\n    <div className=\"app\">\n      {!loggedIn &&\n        <LoginForm userData={userData} setUserData={setUserData} setLoggedIn={setLoggedIn} />\n      }\n      {loggedIn &&\n        <Dashboard setLoggedIn={setLoggedIn}/>\n      }\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}