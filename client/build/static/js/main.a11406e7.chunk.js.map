{"version":3,"sources":["context/UserContext.js","components/LoginForm.js","components/Schools.js","components/Managers.js","components/Teachers.js","components/Classes.js","components/Class.js","assets/circle.png","components/Dashboard.js","App.js","index.js"],"names":["UserContext","createContext","UserProvider","props","useState","userData","setUserData","Provider","value","children","LoginForm","useContext","errorHandle","setErrorHandle","view","setView","loginEmail","setLoginEmail","loginPassword","setLoginPassword","regName","setRegName","regEmail","setRegEmail","regPassword","setRegPassword","useEffect","userEmail","localStorage","getItem","userPassword","details","email","password","axios","post","then","res","get","params","newUserData","data","setLoggedIn","catch","err","console","log","className","onClick","e","preventDefault","undefined","onChange","target","placeholder","name","userToken","headers","setItem","login","payload","error","Classes","functionView","setFunctionView","schools","setSchools","managers","setManagers","addSchoolName","setAddSchoolName","addSchoolAddress","setAddSchoolAddress","addSchoolContactNumber","setAddSchoolContactNumber","inputAssignManagerSchoolId","setInputAssignManagerSchoolId","inputAssignManagerId","setInputAssignManagerId","readSchools","type","autoFocus","address","contactNumber","map","school","_id","manager","chosenManager","filter","chosenSchool","put","assignManager","length","id","delete","deleteSchool","Managers","addManagerName","setAddManagerName","addManagerEmail","setAddManagerEmail","addManagerPassword","setAddManagerPassword","readAllManagers","deleteManager","Teachers","teachers","setTeachers","addTeacherName","setAddTeacherName","addTeacherEmail","setAddTeacherEmail","addTeacherPassword","setAddTeacherPassword","readTeachers","authority","schoolId","schoolName","teacherData","teacherName","teacherId","teacher","classes","_class","deleteTeacher","setClasses","addClassName","setAddClassName","inputAssignTeacherClassId","setInputAssignTeacherClassId","inputAssignTeacherId","setInputAssignTeacherId","readClasses","classData","classId","chosenClass","chosenTeacher","some","assignTeacher","deleteClass","Class","studentName","setStudentName","studentAge","setStudentAge","deleteStudent","newClassData","removeIndex","students","student","indexOf","splice","setClassData","getClassData","book","localTeacher","Math","floor","random","push","age","SchoolsDashLink","ManagersDashLink","TeachersDashLink","ClassesDashLink","Dashboard","src","Circle","alt","width","clear","Schools","App","loggedIn","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a11406e7.chunk.js","sourcesContent":["import React, { useState, createContext } from 'react';\r\n\r\nexport const UserContext = createContext();\r\n\r\nexport const UserProvider = props => {\r\n    const [userData, setUserData] = useState({});\r\n    \r\n    return (\r\n        <UserContext.Provider value={[userData, setUserData]}>\r\n            {props.children}\r\n        </UserContext.Provider>\r\n    )\r\n}","import { useState, useEffect, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport { UserContext } from '../context/UserContext';\r\n\r\nconst LoginForm = (props) => {\r\n    //UserData\r\n    // eslint-disable-next-line\r\n    const [userData, setUserData] = useContext(UserContext);\r\n    const [errorHandle, setErrorHandle] = useState('');\r\n    //View\r\n    const [view, setView] = useState('login');\r\n    //Login\r\n    const [loginEmail, setLoginEmail] = useState('');\r\n    const [loginPassword, setLoginPassword] = useState('');\r\n    //Register\r\n    const [regName, setRegName] = useState('');\r\n    const [regEmail, setRegEmail] = useState('');\r\n    const [regPassword, setRegPassword] = useState('');\r\n\r\n    //Automatic login\r\n    useEffect(() => {\r\n        const userEmail = localStorage.getItem('userEmail');\r\n        const userPassword = localStorage.getItem('userPassword');\r\n        if (userEmail !== null) {\r\n            const details = {\r\n                email: userEmail,\r\n                password: userPassword\r\n            }\r\n            // login()\r\n            axios.post('/api/users/login', details)\r\n            .then(res => {\r\n                //Get User Data\r\n                axios.get('/api/users', {\r\n                    params: {\r\n                        email: userEmail\r\n                    }\r\n                })\r\n                .then(res => {\r\n                    const newUserData = res.data;\r\n                    setUserData(newUserData);\r\n                    props.setLoggedIn(true);\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                });\r\n            })\r\n        }\r\n    // eslint-disable-next-line\r\n    }, []);\r\n\r\n    //Login existing user - pass\r\n    const login = (e, email, password) => {\r\n        e.preventDefault();\r\n        const details = {\r\n            email: email,\r\n            password: password\r\n        }\r\n        axios.post('/api/users/login', details)\r\n        .then(res => {\r\n            switch (res.data) {\r\n                case '\"email\" is not allowed to be empty':\r\n                    setErrorHandle(['email' ,'Email cannot be empty'])\r\n                    break;\r\n                case '\"email\" length must be at least 6 characters long':\r\n                    setErrorHandle(['email' ,'Email must be at least 6 characters long']);\r\n                    setLoginEmail('');\r\n                    break;\r\n                case '\"email\" must be a valid email':\r\n                    setErrorHandle(['email' ,'Must be a valid email']);\r\n                    setLoginEmail('');\r\n                    break;\r\n                case 'email-not-found':\r\n                    setErrorHandle(['email' ,'Email not found'])\r\n                    break;\r\n                case '\"password\" is not allowed to be empty':\r\n                    setErrorHandle(['password' ,'Password cannot be empty']);\r\n                    break;\r\n                case '\"password\" length must be at least 6 characters long':\r\n                    setErrorHandle(['password' ,'Password is too short']);\r\n                    setLoginPassword('');\r\n                    break;\r\n                case 'invalid-password':\r\n                    setErrorHandle(['password' ,'Invalid password']);\r\n                    setLoginPassword('');\r\n                    break;\r\n                case 'user-not-authorized':\r\n                    setErrorHandle('not-authorized');\r\n                    setLoginEmail(''); setLoginPassword('');\r\n                    break;\r\n                default:\r\n                    const userToken = res.headers[\"auth-token\"];\r\n                    localStorage.setItem('userToken', userToken);\r\n                    localStorage.setItem('userEmail', loginEmail);\r\n                    localStorage.setItem('userPassword', loginPassword);\r\n                    props.setLoggedIn(true);\r\n            }\r\n            //Get User Data\r\n            axios.get('/api/users', {\r\n                params: {\r\n                    email: loginEmail\r\n                }\r\n            })\r\n            .then(res => {\r\n                const newUserData = res.data;\r\n                setUserData(newUserData);\r\n            })\r\n            .catch(err => {\r\n                console.log(\"Error: \" + err);\r\n            })\r\n        })\r\n    }\r\n    const loginAdmin = (e) => {\r\n        e.preventDefault();\r\n        const details = {\r\n            email: 'legion@gmail.com',\r\n            password: 'legion555'\r\n        }\r\n        axios.post('/api/users/login', details)\r\n        .then(res => {\r\n            props.setLoggedIn(true);\r\n            axios.get('/api/users', {\r\n                params: {\r\n                    email: 'legion@gmail.com'\r\n                }\r\n            })\r\n            .then(res => {\r\n                const newUserData = res.data;\r\n                setUserData(newUserData);\r\n            })\r\n        })\r\n    }\r\n    const loginManager = (e) => {\r\n        e.preventDefault();\r\n        const details = {\r\n            email: 'testmanager@gmail.com',\r\n            password: 'testmanager123'\r\n        }\r\n        axios.post('/api/users/login', details)\r\n        .then(res => {\r\n            props.setLoggedIn(true);\r\n            axios.get('/api/users', {\r\n                params: {\r\n                    email: 'testmanager@gmail.com'\r\n                }\r\n            })\r\n            .then(res => {\r\n                const newUserData = res.data;\r\n                setUserData(newUserData);\r\n            })\r\n        })\r\n    }\r\n    const loginTeacher = (e) => {\r\n        e.preventDefault();\r\n        const details = {\r\n            email: 'testteacher1@gmail.com',\r\n            password: 'testteacher1123'\r\n        }\r\n        axios.post('/api/users/login', details)\r\n        .then(res => {\r\n            props.setLoggedIn(true);\r\n            axios.get('/api/users', {\r\n                params: {\r\n                    email: 'testteacher1@gmail.com'\r\n                }\r\n            })\r\n            .then(res => {\r\n                const newUserData = res.data;\r\n                setUserData(newUserData);\r\n            })\r\n        })\r\n    }\r\n\r\n    //Register new user\r\n    const register = (e) => {\r\n        e.preventDefault();\r\n        const payload = {\r\n            name: regName,\r\n            email: regEmail,\r\n            password: regPassword\r\n        }\r\n        axios.post('/api/users/register', payload)\r\n        .then(res => {\r\n            switch (res.data) {\r\n                case '\"name\" is not allowed to be empty':\r\n                    setErrorHandle(['name' ,'Name cannot be empty'])\r\n                    break;\r\n                case '\"email\" is not allowed to be empty':\r\n                    setErrorHandle(['email' ,'Email cannot be empty'])\r\n                    break;\r\n                case '\"email\" length must be at least 6 characters long':\r\n                    setErrorHandle(['email' ,'Email must be at least 6 characters long']);\r\n                    setRegEmail('');\r\n                    break;\r\n                case '\"email\" must be a valid email':\r\n                    setErrorHandle(['email' ,'Must be a valid email']);\r\n                    setRegEmail('');\r\n                    break;\r\n                case 'email-duplicate':\r\n                    setErrorHandle(['email' ,'doubleEmails']);\r\n                    setRegEmail('');\r\n                    break;\r\n                case '\"password\" is not allowed to be empty':\r\n                    setErrorHandle(['password' ,'Password cannot be empty']);\r\n                    break;\r\n                case '\"password\" length must be at least 6 characters long':\r\n                    setErrorHandle(['password' ,'Password is too short']);\r\n                    setRegPassword('');\r\n                    break;\r\n                default:\r\n                    setErrorHandle('registered');\r\n                    setRegName(''); setRegEmail(''); setRegPassword('');\r\n\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        })\r\n    }\r\n    \r\n    return (\r\n        <div className=\"auth-container\">\r\n            <div>\r\n                <h2>Login as admin</h2>\r\n                <button onClick={loginAdmin}>Login</button>\r\n            </div><br/>\r\n            <div>\r\n                <h2>Login as manager</h2>\r\n                <button onClick={loginManager}>Login</button>\r\n            </div><br/>\r\n            <div>\r\n                <h2>Login as teacher</h2>\r\n                <button onClick={loginTeacher}>Login</button>\r\n            </div>\r\n            <br/><br/><br/>\r\n            {view === 'login' &&\r\n            <div className=\"login-container\">\r\n                <h1>Login with an existing account</h1>\r\n                <form>\r\n                    <input className={errorHandle[0] === 'email' ? \"error\" : undefined}  onChange={(e) => setLoginEmail(e.target.value)}\r\n                    placeholder={errorHandle[0] === \"email\" ? errorHandle[1] : \"Email\"}  name=\"email\" value={loginEmail}></input>\r\n                    <input className={errorHandle[0] === 'password' ? \"error\" : undefined}  onChange={(e) => setLoginPassword(e.target.value)}\r\n                    placeholder={errorHandle[0] === \"password\" ? errorHandle[1] : \"Password\"} name=\"password\" value={loginPassword}></input>\r\n                    <button onClick={(e) => login(e, loginEmail, loginPassword)}>Login</button>\r\n                </form>\r\n                {errorHandle === 'not-authorized' &&\r\n                <p>Not approved yet.<br/>Please wait for Manager's approval.</p>\r\n                }\r\n                <p className=\"register-link\" onClick={() => setView('register')}>Register a new account</p>\r\n            </div>\r\n            }\r\n            {view === 'register' &&\r\n            <div className=\"register-container\">\r\n                <h1>Register a new account</h1>\r\n                {errorHandle !== 'registered' &&\r\n                <form className=\"input-main\">\r\n                    <input className={errorHandle[0] === 'name' ? \"error\" : undefined} onChange={(e) => setRegName(e.target.value)}\r\n                    placeholder={errorHandle[0] === \"name\" ? errorHandle[1] : \"Name\"} name=\"name\" value={regName}></input>\r\n                    <input className={errorHandle[0] === 'email' ? \"error\" : undefined} onChange={(e) => setRegEmail(e.target.value)}\r\n                    placeholder={errorHandle[0] === \"email\" ? errorHandle[1] : \"Email\"} name=\"email\" value={regEmail}></input>\r\n                    <input className={errorHandle[0] === 'password' ? \"error\" : undefined} onChange={(e) => setRegPassword(e.target.value)}\r\n                    placeholder={errorHandle[0] === \"password\" ? errorHandle[1] : \"Password\"} name=\"password\" value={regPassword}></input>\r\n                    <button onClick={register}>Register</button>\r\n                </form>\r\n                }\r\n                {errorHandle === 'registered' &&\r\n                <p>Successfully registered!<br/>Please wait for Manager's approval.</p>\r\n                }\r\n                <p className=\"login-link\" onClick={() => setView('login')}>Login with an existing account</p>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginForm","import { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Classes = (props) => {\r\n    // eslint-disable-next-line\r\n    const userToken = localStorage.getItem('userToken');\r\n    const [functionView, setFunctionView] = useState('');\r\n    const [schools, setSchools] = useState({});\r\n    const [managers, setManagers] = useState({});\r\n    //Add school\r\n    const [addSchoolName, setAddSchoolName] = useState('');\r\n    const [addSchoolAddress, setAddSchoolAddress] = useState('');\r\n    const [addSchoolContactNumber, setAddSchoolContactNumber] = useState('');\r\n    //Assign manager\r\n    const [inputAssignManagerSchoolId, setInputAssignManagerSchoolId] = useState('');\r\n    const [inputAssignManagerId, setInputAssignManagerId] = useState('');\r\n\r\n    useEffect(() => {\r\n        readSchools()\r\n    // eslint-disable-next-line\r\n    }, []);\r\n    const readSchools = () => {\r\n        axios.get('./api/schools')\r\n        .then((res) => {\r\n            setSchools(res.data);\r\n            axios.get('./api/managers')\r\n            .then(res => {\r\n                setManagers(res.data);\r\n            })\r\n            .catch(err => {\r\n                console.error(\"Error: \" + err)\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.error(\"Error: \" + err)\r\n        })\r\n    }\r\n\r\n    //FUNCTIONS\r\n    //create school\r\n    const createSchool = (e) => {\r\n        e.preventDefault();\r\n        const payload = {\r\n            name: addSchoolName,\r\n            address: addSchoolAddress,\r\n            contactNumber: addSchoolContactNumber\r\n        }\r\n        //Create new class document\r\n        axios.post('/api/schools/createSchool', payload)\r\n        .then(res => {\r\n            props.readSchools();\r\n            setFunctionView('');\r\n            setAddSchoolName(''); setAddSchoolAddress(''); setAddSchoolContactNumber('');\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n    //assign manager to school\r\n    const assignManager = (e) => {\r\n        e.preventDefault();\r\n        const chosenManager = managers.filter(manager => manager._id === inputAssignManagerId );\r\n        const chosenSchool = schools.filter(school => school._id === inputAssignManagerSchoolId);\r\n        const payload = {\r\n          \"schoolId\": chosenSchool[0]._id,\r\n          \"schoolName\": chosenSchool[0].name,\r\n          \"managerId\": chosenManager[0]._id,\r\n          \"managerName\": chosenManager[0].name\r\n        }\r\n        // console.log(payload);\r\n        axios.put(\"/api/schools/addManager\", payload)\r\n        .then((res) => {\r\n            axios.put(\"/api/managers/addSchoolRef\", payload)\r\n            .then(res => {\r\n                readSchools();\r\n                setFunctionView('');\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n    //Delete school\r\n    const deleteSchool = (e, id) => {\r\n        e.preventDefault();\r\n        axios.delete(\"/api/schools/deleteSchool/\" + id)\r\n        .then((res) => {\r\n            readSchools();\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"schools-container\">\r\n            <div className=\"section-nav\">\r\n                <div className=\"breadcrumb\">\r\n                    <p>Schools</p>\r\n                </div>\r\n                <div className=\"functions\">\r\n                    <button className=\"button-assign-manager\" onClick={() => setFunctionView(\"assign-manager\")}>assign manager</button>\r\n                    <button className=\"button-create-school\" onClick={() => setFunctionView(\"create-school\")}>create</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"functions-container\">\r\n                {functionView === \"create-school\" &&\r\n                <form >\r\n                    <div>\r\n                        <input type=\"text\" value={addSchoolName} placeholder=\"School name\" onChange={(e) => setAddSchoolName(e.target.value)} autoFocus></input>\r\n                        <input type=\"text\" value={addSchoolAddress} placeholder=\"School address\" onChange={(e) => setAddSchoolAddress(e.target.value)}></input>\r\n                        <input type=\"text\" value={addSchoolContactNumber} placeholder=\"School contact number\" onChange={(e) => setAddSchoolContactNumber(e.target.value)}></input>\r\n                    </div>\r\n                    <button onClick={createSchool}>Add school</button>\r\n                    <button onClick={() => setFunctionView(\"\")}>Cancel</button>\r\n                </form>\r\n                }\r\n                {functionView === \"assign-manager\" &&\r\n                <form>\r\n                    <div>\r\n                        <label>Choose a school: </label>\r\n                        <select value={inputAssignManagerSchoolId} onChange={(e) => setInputAssignManagerSchoolId(e.target.value)}>\r\n                            <option>Please choose a school</option>\r\n                            {schools.map(school => \r\n                                <option value={school._id} key={school._id}>{school.name}</option>\r\n                            )}\r\n                        </select>\r\n                        <br/>\r\n                        <label>Choose a manager: </label>\r\n                        <select value={inputAssignManagerId} onChange={(e) => setInputAssignManagerId(e.target.value)} >\r\n                            <option>Please choose a manager</option>\r\n                            {managers.map(manager => \r\n                                <option value={manager._id} key={manager._id}>{manager.name}</option>\r\n                            )}\r\n                        </select>\r\n                    </div>\r\n                    <button onClick={(e) => assignManager(e)}>Add manager</button>\r\n                    <button onClick={() => setFunctionView(\"\")}>Cancel</button>\r\n                </form>\r\n                }\r\n            </div>\r\n            \r\n            <div className=\"schools-info\">\r\n                {schools.length > 0 && schools.map(school => \r\n                <div className=\"school-info\" key={school._id}>\r\n                    <h3>{school.name}</h3>\r\n                    <p>Address: {school.address}</p>\r\n                    <p>Manager: {school.manager && school.manager.name}</p>\r\n                    <button onClick={(e) => deleteSchool(e, school._id)}>Delete school</button>\r\n                    <br/><br/>\r\n                </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Classes","import { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Managers = (props) => {\r\n    // eslint-disable-next-line\r\n    const userToken = localStorage.getItem('userToken');\r\n    const [functionView, setFunctionView] = useState('');\r\n    const [managers, setManagers] = useState({});\r\n    //Add manager inputs\r\n    const [addManagerName, setAddManagerName] = useState('');\r\n    const [addManagerEmail, setAddManagerEmail] = useState('');\r\n    const [addManagerPassword, setAddManagerPassword] = useState('');\r\n\r\n    useEffect(() => {\r\n        readAllManagers()\r\n    // eslint-disable-next-line\r\n    }, []);\r\n    const readAllManagers = () => {\r\n        axios.get('./api/managers')\r\n        .then((res) => {\r\n            setManagers(res.data);\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error: \" + error)\r\n        })\r\n    }\r\n    \r\n\r\n    //FUNCTIONS\r\n    //Create manager\r\n    const createManager = (e) => {\r\n        e.preventDefault();\r\n        const payload = {\r\n            name: addManagerName,\r\n            email: addManagerEmail,\r\n            password: addManagerPassword\r\n        }\r\n        //Create new class document\r\n        axios.post('/api/managers/createManager', payload)\r\n        .then(res => {\r\n            readAllManagers();\r\n            setFunctionView('');\r\n            setAddManagerName(''); setAddManagerEmail(''); setAddManagerPassword('');\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n    //Delete manager\r\n    const deleteManager = (e, id) => {\r\n        e.preventDefault();\r\n        axios.delete(\"/api/managers/deleteManager/\" + id)\r\n        .then((res) => {\r\n            readAllManagers();\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n    \r\n\r\n    return (\r\n        <div className=\"managers-container\">\r\n\r\n            <div className=\"section-nav\">\r\n                <div className=\"breadcrumb\">\r\n                    <p>Managers</p>\r\n                </div>\r\n                <div className=\"functions\">\r\n                    <button className=\"button-create-manager\" onClick={() => setFunctionView(\"create-manager\")}>create</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"functions-container\">\r\n                {functionView === \"create-manager\" &&\r\n                <form className=\"add-school\">\r\n                    <input type=\"text\" value={addManagerName} placeholder=\"Manager name\" onChange={(e) => setAddManagerName(e.target.value)} autoFocus></input>\r\n                    <input type=\"text\" value={addManagerEmail} placeholder=\"Manager email\" onChange={(e) => setAddManagerEmail(e.target.value)}></input>\r\n                    <input type=\"text\" value={addManagerPassword} placeholder=\"Manager password\" onChange={(e) => setAddManagerPassword(e.target.value)}></input>\r\n                    <button onClick={createManager}>Create manager</button>\r\n                    <button onClick={() => setFunctionView(\"\")}>Cancel</button>\r\n                </form>\r\n                }\r\n            </div>\r\n\r\n            <div className=\"managers-info\">\r\n                {managers.length > 0 && managers.map(manager => \r\n                <div className=\"manager-info\" key={manager._id}>\r\n                    <h3>{manager.name}</h3>\r\n                    <p>Email: {manager.email}</p>\r\n                    <p>School: {manager.school.name}</p>\r\n                    <button onClick={(e) => deleteManager(e, manager._id)}>Delete manager</button>\r\n                    <br/>\r\n                    <br/>\r\n                </div>\r\n                )}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Managers","import { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Teachers = (props) => {\r\n    // eslint-disable-next-line\r\n    const userToken = localStorage.getItem('userToken');\r\n    const [functionView, setFunctionView] = useState('');\r\n    const [teachers, setTeachers] = useState({});\r\n    //Add teacher inputs\r\n    const [addTeacherName, setAddTeacherName] = useState('');\r\n    const [addTeacherEmail, setAddTeacherEmail] = useState('');\r\n    const [addTeacherPassword, setAddTeacherPassword] = useState('');\r\n\r\n    useEffect(() => {\r\n        readTeachers()\r\n\r\n        //cleanup after component unmounts\r\n        return () => {\r\n            setTeachers({});\r\n        };\r\n    // eslint-disable-next-line\r\n    }, []);\r\n    const readTeachers = () => {\r\n        switch (props.userData.authority) {\r\n            //readAllTeachers\r\n            case 'admin':\r\n                axios.get('./api/teachers')\r\n                .then((res) => {\r\n                    setTeachers(res.data);\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"Error: \" + error)\r\n                })\r\n                break;\r\n            //readSchoolTeachers\r\n            case 'manager':\r\n                axios.get('./api/teachers/readAuthorizedTeachers',\r\n                { params: { schoolId: props.userData.school.id } } )\r\n                .then((res) => {\r\n                    setTeachers(res.data);\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"Error: \" + error)\r\n                })\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    //FUNCTIONS\r\n    //Create teacher\r\n    const createTeacher = (e) => {\r\n        e.preventDefault();\r\n        const payload = {\r\n            name: addTeacherName,\r\n            email: addTeacherEmail,\r\n            password: addTeacherPassword,\r\n            schoolName: props.userData.school.name,\r\n            schoolId: props.userData.school.id\r\n        }\r\n        axios.post('/api/teachers/createTeacher', payload)\r\n        .then(res => {\r\n            console.log(res)\r\n            const teacherData = {\r\n                schoolId: res.data.school.id,\r\n                teacherName: res.data.name,\r\n                teacherId: res.data._id\r\n            }\r\n            axios.put('/api/schools/addTeacher', teacherData)\r\n            .then(res => {\r\n                readTeachers();\r\n                setFunctionView('');\r\n                setAddTeacherName(''); setAddTeacherEmail(''); setAddTeacherPassword('');\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n    //Delete teacher\r\n    const deleteTeacher = (e, id) => {\r\n        e.preventDefault();\r\n        axios.delete(\"/api/teachers/deleteTeacher/\" + id)\r\n        .then((res) => {\r\n            const payload = {\r\n                schoolId: props.userData.school.id,\r\n                teacherId: id\r\n            }\r\n            axios.put('/api/schools/removeTeacher', payload)\r\n            .then(res => {\r\n                readTeachers();\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"teachers-container\">\r\n\r\n            <div className=\"section-nav\">\r\n                <div className=\"breadcrumb\">\r\n                    <p>Teachers</p>\r\n                </div>\r\n                <div className=\"functions\">\r\n                    <button className=\"button-create-teacher\" onClick={() => setFunctionView(\"create-teacher\")}>create</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"functions-container\">\r\n                {functionView === \"create-teacher\" &&\r\n                <form className=\"add-school\">\r\n                    <input type=\"text\" value={addTeacherName} placeholder=\"Teacher name\" onChange={(e) => setAddTeacherName(e.target.value)} autoFocus></input>\r\n                    <input type=\"text\" value={addTeacherEmail} placeholder=\"Teacher email\" onChange={(e) => setAddTeacherEmail(e.target.value)}></input>\r\n                    <input type=\"text\" value={addTeacherPassword} placeholder=\"Teacher password\" onChange={(e) => setAddTeacherPassword(e.target.value)}></input>\r\n                    <button onClick={createTeacher}>Create teacher</button>\r\n                    <button onClick={() => setFunctionView(\"\")}>Cancel</button>\r\n                </form>\r\n                }\r\n            </div>\r\n\r\n            <div className=\"teachers-info\">\r\n                {teachers.length > 0 && teachers.map(teacher => \r\n                <div className=\"teacher-info\" key={teacher._id}>\r\n                    <h1>{teacher.name}</h1>\r\n                    <p>Email:<br/>{teacher.email}</p><br/>\r\n                    <p>Classes: </p>\r\n                    {teacher.classes.map(_class => \r\n                        <p key={_class.id}>{_class.name}</p>\r\n                    )}\r\n                    <button onClick={(e) => deleteTeacher(e, teacher._id)}>Delete teacher</button>\r\n                    <br/>\r\n                    <br/>\r\n                </div>\r\n                )}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Teachers","import { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Classes = (props) => {\r\n    // eslint-disable-next-line\r\n    const userToken = localStorage.getItem('userToken');\r\n    const [functionView, setFunctionView] = useState('');\r\n    const [classes, setClasses] = useState({});\r\n    const [teachers, setTeachers] = useState({});\r\n    //Add class inputs\r\n    const [addClassName, setAddClassName] = useState('');\r\n    //Assign teacher\r\n    const [inputAssignTeacherClassId, setInputAssignTeacherClassId] = useState('');\r\n    const [inputAssignTeacherId, setInputAssignTeacherId] = useState('');\r\n\r\n    useEffect(() => {\r\n        readClasses()\r\n        readTeachers()\r\n\r\n        //cleanup after component unmounts\r\n        return () => {\r\n            setClasses({});\r\n            setTeachers({});\r\n        };\r\n    // eslint-disable-next-line\r\n    }, []);\r\n    const readClasses = () => {\r\n        switch (props.userData.authority) {\r\n            //read classes of school (for manager)\r\n            case 'manager':\r\n                axios.get('./api/classes/readSchoolClasses',\r\n                { params: { schoolId: props.userData.school.id } } )\r\n                .then((res) => {\r\n                    setClasses(res.data);\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"Error: \" + error)\r\n                })\r\n                break;\r\n            //read classes of teacher\r\n            case 'teacher':\r\n                axios.get('./api/classes/readTeacherClasses',\r\n                { params: { teacherId: props.userData._id } } )\r\n                .then((res) => {\r\n                    setClasses(res.data);\r\n                })\r\n                .catch((error) => {\r\n                    console.error(\"Error: \" + error)\r\n                })\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    const readTeachers = () => {\r\n        //readByschool\r\n        axios.get('./api/teachers/readAuthorizedTeachers',\r\n        { params: { schoolId: props.userData.school.id } } )\r\n        .then((res) => {\r\n            setTeachers(res.data);\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error: \" + error)\r\n        })\r\n    }\r\n\r\n    //FUNCTIONS\r\n    //Create class\r\n    const createClass = (e) => {\r\n        e.preventDefault();\r\n        const payload = {\r\n            className: addClassName,\r\n            schoolName: props.userData.school.name,\r\n            schoolId: props.userData.school.id\r\n        }\r\n        axios.post('/api/classes/createClass', payload)\r\n        .then(res => {\r\n            const classData = {\r\n                schoolId: props.userData.school.id,\r\n                className: res.data.name,\r\n                classId: res.data._id\r\n            }\r\n            axios.put('/api/schools/addClass', classData)\r\n            .then(res => {\r\n                readClasses();\r\n                setFunctionView('');\r\n                setAddClassName('');\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n    //assign teacher to class\r\n    const assignTeacher = (e) => {\r\n        e.preventDefault();\r\n        const chosenClass = classes.filter(_class => _class._id === inputAssignTeacherClassId);\r\n        const chosenTeacher = teachers.filter(teacher => teacher._id === inputAssignTeacherId );\r\n        const payload = {\r\n          \"classId\": chosenClass[0]._id,\r\n          \"className\": chosenClass[0].name,\r\n          \"teacherId\": chosenTeacher[0]._id,\r\n          \"teacherName\": chosenTeacher[0].name\r\n        }\r\n        //assign teacher to class\r\n        axios.put(\"/api/classes/addTeacher\", payload)\r\n        .then((res) => {\r\n            //assign class to teacher\r\n            if ( !chosenTeacher[0].classes.some( _class => _class.id === chosenClass[0]._id ) ) {\r\n                axios.put(\"/api/teachers/addClass\", payload)\r\n                .then(res => {\r\n                    readClasses();\r\n                    setFunctionView('');\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                })\r\n            } else {\r\n                readClasses();\r\n            }\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n    //Delete class\r\n    const deleteClass = (e, classId, teacherId) => {\r\n        e.preventDefault();\r\n        //delete class document\r\n        axios.delete(\"/api/classes/deleteClass/\" + classId)\r\n        .then(res => {\r\n            //remove class ref from school\r\n            const payload = {\r\n                schoolId: props.userData.school.id,\r\n                classId: classId,\r\n                teacherId: teacherId\r\n            }\r\n            axios.put('/api/schools/removeClass', payload)\r\n            .then(res => {\r\n                //remove class ref from teacher\r\n                axios.put('/api/teachers/removeClass', payload)\r\n                readClasses();\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"classes-container\">\r\n\r\n            <div className=\"section-nav\">\r\n                <div className=\"breadcrumb\">\r\n                    <p>Classes</p>\r\n                </div>\r\n                {props.userData.authority === 'manager' &&\r\n                <div className=\"functions\">\r\n                    <button className=\"button-assign-teacher\" onClick={() => setFunctionView(\"assign-teacher\")}>assign teacher</button>\r\n                    <button className=\"button-create-class\" onClick={() => setFunctionView(\"create-class\")}>create</button>\r\n                </div>\r\n                }\r\n            </div>\r\n\r\n            <div className=\"functions-container\">\r\n                {functionView === \"create-class\" &&\r\n                <form className=\"add-class\">\r\n                    <input type=\"text\" value={addClassName} placeholder=\"Class name\" onChange={(e) => setAddClassName(e.target.value)} autoFocus></input>\r\n                    <button onClick={createClass}>Create class</button>\r\n                    <button onClick={() => setFunctionView(\"\")}>Cancel</button>\r\n                </form>\r\n                }\r\n                {functionView === \"assign-teacher\" &&\r\n                <form>\r\n                    <div>\r\n                        <label>Choose a class: </label>\r\n                        <select value={inputAssignTeacherClassId} onChange={(e) => setInputAssignTeacherClassId(e.target.value)}>\r\n                            <option>Please choose a class</option>\r\n                            {classes.map(_class => _class.teacher.name === 'unassigned' &&\r\n                                <option value={_class._id} key={_class._id}>{_class.name}</option>\r\n                            )}\r\n                        </select>\r\n                        <br/>\r\n                        <label>Choose a teacher: </label>\r\n                        <select value={inputAssignTeacherId} onChange={(e) => setInputAssignTeacherId(e.target.value)} >\r\n                            <option>Please choose a teacher</option>\r\n                            {teachers.map(teacher => \r\n                                <option value={teacher._id} key={teacher._id}>{teacher.name}</option>\r\n                            )}\r\n                        </select>\r\n                    </div>\r\n                    <button onClick={(e) => assignTeacher(e)}>Add teacher</button>\r\n                    <button onClick={() => setFunctionView(\"\")}>Cancel</button>\r\n                </form>\r\n                }\r\n            </div>\r\n\r\n            <div className=\"classes-info\">\r\n                {classes.length > 0 && classes.map(_class => \r\n                <div className=\"class-info\" key={_class._id}>\r\n                    <h1>{_class.name}</h1>\r\n                    <p>Teacher: {_class.teacher.name}</p>\r\n                    {props.userData.authority === 'manager' &&\r\n                    <button onClick={(e) => deleteClass(e, _class._id, _class.teacher.id)}>Delete class</button>\r\n                    }\r\n                    <br/>\r\n                    <br/>\r\n                </div>\r\n                )}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Classes","import { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Class = (props) => {\r\n    //STATE\r\n    //Add student\r\n    const [studentName, setStudentName] = useState('');\r\n    const [studentAge, setStudentAge] = useState('');\r\n\r\n    //FUNCTIONS\r\n    const numGen = () => {\r\n        return Math.floor(Math.random() * 100000);\r\n    }\r\n    const getClassData = (id) => {\r\n        const userToken = localStorage.getItem('userToken');\r\n        axios.get('./api/classes/' + id, {\r\n        headers: {\r\n            'auth-token': userToken\r\n        }\r\n        })\r\n        .then((res) => {\r\n            console.log(res.data[0]);\r\n            props.setClassData(res.data[0]);\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error: \" + error)\r\n        })\r\n    }\r\n    //Add student\r\n    const createStudent = (e) => {\r\n        e.preventDefault();\r\n        const newClassData = props.classData;\r\n        const student = {\r\n          \"name\": studentName,\r\n          \"age\": studentAge,\r\n          \"class\": props.classData.name,\r\n          \"_id\": numGen()\r\n        }\r\n        newClassData.students.push(student);\r\n        axios.put(\"/api/classes/createStudent\", props.classData)\r\n        .then((res) => {\r\n            console.log(res.data);\r\n            // props.setClassData(newClassData);\r\n            setStudentName(''); setStudentAge('');\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n    //Remove student\r\n    const deleteStudent = (id) => {\r\n        const newClassData = props.classData;\r\n        let removeIndex = newClassData.students.map(function(student) { return student._id; }).indexOf(id);\r\n        newClassData.students.splice(removeIndex, 1);\r\n        axios.put(\"/api/classes/deleteStudent\", newClassData)\r\n        .then((res) => {\r\n            console.log(res.data);\r\n            // props.setClassData(newClassData);\r\n            getClassData(props.classData._id)\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n    \r\n    return (\r\n        <div className=\"class-container\">\r\n            <div className=\"class-details-container\">\r\n                <h2>{props.classData.name}</h2>\r\n                <h2>{props.classData.book}</h2>\r\n                <h2>{props.classData.localTeacher}</h2>\r\n            </div>\r\n            <form className=\"add-student-container\">\r\n                <input type=\"text\" value={studentName} placeholder=\"name...\" onChange={(e) => setStudentName(e.target.value)}></input>\r\n                <input type=\"text\" value={studentAge} placeholder=\"age...\" onChange={(e) => setStudentAge(e.target.value)}></input>\r\n                <button onClick={createStudent}>Add student</button>\r\n            </form>\r\n            <div className=\"students-container\">\r\n                {props.classData.students.map(student =>\r\n                    <div className=\"student-card\">\r\n                        <h3>{student.name}</h3>\r\n                        <p>Age: {student.age}</p>\r\n                        <button onClick={(id) => deleteStudent(student._id)}>Remove student</button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Class","export default __webpack_public_path__ + \"static/media/circle.423a605e.png\";","//Dependencies\r\nimport {useState, useContext} from 'react';\r\n//Components\r\nimport Schools from './Schools';\r\nimport Managers from './Managers';\r\nimport Teachers from './Teachers';\r\nimport Classes from './Classes';\r\nimport Class from './Class';\r\nimport { UserContext } from '../context/UserContext';\r\n//Icons\r\nimport { FaPowerOff, FaSchool } from 'react-icons/fa';\r\nimport { GiTeacher } from 'react-icons/gi';\r\nimport { SiGoogleclassroom } from 'react-icons/si';\r\nimport { RiDashboardFill, RiUser3Fill } from 'react-icons/ri';\r\n//Images\r\nimport Circle from '../assets/circle.png';\r\n\r\nconst Dashboard = (props) => {\r\n    // eslint-disable-next-line\r\n    const userToken = localStorage.getItem('userToken');\r\n    const [view, setView] = useState('default');\r\n    //UserData\r\n    // eslint-disable-next-line\r\n    const [userData, setUserData] = useContext(UserContext);\r\n\r\n    //FUNCTIONS\r\n    const logout = () => {\r\n        localStorage.clear();\r\n        props.setLoggedIn(false);\r\n    }    \r\n  \r\n    return (\r\n        <div className=\"dashboard\">\r\n\r\n            {/* SIDE-NAVIGATION */}\r\n            <div className=\"navigation-container\">\r\n                <div className=\"links\">\r\n                    <img src={Circle} alt=\"profile\" width=\"60px\"></img>\r\n                    <p>{userData.name}<br/>\r\n                    <i>{userData.authority}</i><br/>\r\n                    <strong>{userData.school && userData.school.name}</strong>\r\n                    </p>\r\n                    {/* Links */}\r\n                    {userData.authority === 'admin' &&\r\n                        <div>\r\n                            <p className={view === 'default' ? 'link link-active' : 'link'} onClick={() => setView('default')} ><RiDashboardFill className=\"icon\" /><br/>Dashboard</p>\r\n                            <p className={view === 'schools' ? 'link link-active' : 'link'} onClick={() => setView('schools')} ><FaSchool className=\"icon\" /><br/>Schools</p>\r\n                            <p className={view === 'managers' ? 'link link-active' : 'link'} onClick={() => setView('managers')} ><RiUser3Fill className=\"icon\" /><br/>Managers</p>\r\n                        </div>\r\n                    }\r\n                    {userData.authority === 'manager' &&\r\n                        <div>\r\n                            <p className={view === 'default' ? 'link link-active' : 'link'} onClick={() => setView('default')} ><RiDashboardFill className=\"icon\" /><br/>Dashboard</p>\r\n                            <p className={view === 'teachers' ? 'link link-active' : 'link'} onClick={() => setView('teachers')} ><GiTeacher className=\"icon\" /><br/>Teachers</p>\r\n                            <p className={view === 'classes' ? 'link link-active' : 'link'} onClick={() => setView('classes')} ><SiGoogleclassroom className=\"icon\" /><br/>Classes</p>\r\n                        </div>\r\n                    }\r\n                    {userData.authority === 'teacher' &&\r\n                        <div>\r\n                            <p className={view === 'default' ? 'link link-active' : 'link'} onClick={() => setView('default')} ><RiDashboardFill className=\"icon\" /><br/>Dashboard</p>\r\n                            <p className={view === 'classes' ? 'link link-active' : 'link'} onClick={() => setView('classes')} ><SiGoogleclassroom className=\"icon\" /><br/>Classes</p>\r\n                        </div>\r\n                    }\r\n                </div>\r\n                <div className=\"logout\">\r\n                    <p onClick={logout}><FaPowerOff /></p>\r\n                </div>\r\n            </div>\r\n\r\n            {/* CONTENT-CONTAINER */}\r\n            <div className=\"content-container\">\r\n                {/* DEFAULT */}\r\n                {view === 'default' && \r\n                <div className=\"default-container\">\r\n                    {userData.authority === 'admin' &&\r\n                    <div className=\"dashboard-container\">\r\n                        <SchoolsDashLink setView={setView}/>\r\n                        <ManagersDashLink setView={setView}/>\r\n                    </div>\r\n                    }\r\n                    {userData.authority === 'manager' &&\r\n                    <div className=\"dashboard-container\">\r\n                        <TeachersDashLink setView={setView}/>\r\n                        <ClassesDashLink setView={setView}/>\r\n                    </div>\r\n                    }\r\n                    {userData.authority === 'teacher' &&\r\n                    <div className=\"dashboard-container\">\r\n                        <ClassesDashLink setView={setView}/>\r\n                    </div>\r\n                    }\r\n                </div>\r\n                }\r\n\r\n                {/* VIEWS */}\r\n                {view === 'schools' &&\r\n                    <Schools setView={setView} userData={userData} />\r\n                }\r\n                {view === 'managers' &&\r\n                    <Managers setView={setView} userData={userData} />\r\n                }\r\n                {view === 'teachers' &&\r\n                    <Teachers setView={setView} userData={userData} />\r\n                }\r\n                {view === 'classes' && \r\n                    <Classes setView={setView} userData={userData} />\r\n                }\r\n                {view === 'class' &&\r\n                    <Class setView={setView} userData={userData} />\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst SchoolsDashLink = (props) => {\r\n    return (\r\n    <div className=\"section-card\">\r\n        <h1>Schools</h1>\r\n        <FaSchool className=\"icon\"/>\r\n        <button onClick={() => props.setView('schools')}>View</button>\r\n    </div>\r\n    )\r\n}\r\nconst ManagersDashLink = (props) => {\r\n    return (\r\n    <div className=\"section-card\">\r\n        <h1>Managers</h1>\r\n        <RiUser3Fill className=\"icon\"/>\r\n        <button onClick={() => props.setView('managers')}>View</button>\r\n    </div>\r\n    )\r\n}\r\nconst TeachersDashLink = (props) => {\r\n    return (\r\n    <div className=\"section-card\">\r\n        <h1>Teachers</h1>\r\n        <GiTeacher className=\"icon\"/>\r\n        <button onClick={() => props.setView('teachers')}>View</button>\r\n    </div>\r\n    )\r\n}\r\nconst ClassesDashLink = (props) => {\r\n    return (\r\n    <div className=\"section-card\">\r\n        <h1>Classes</h1>\r\n        <SiGoogleclassroom className=\"icon\"/>\r\n        <button onClick={() => props.setView('classes')}>View details</button>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Dashboard","import {useState} from 'react';\nimport './App.css';\nimport LoginForm from './components/LoginForm';\nimport Dashboard from './components/Dashboard';\nimport { UserProvider } from './context/UserContext';\n\nfunction App() {\n  //STATE\n  //User data\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  //RENDER\n  return (\n    <UserProvider>\n      <div className=\"app\">\n        {!loggedIn &&\n          <LoginForm setLoggedIn={setLoggedIn} />\n        }\n        {loggedIn &&\n          <Dashboard setLoggedIn={setLoggedIn}/>\n        }\n      </div>\n    </UserProvider>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}