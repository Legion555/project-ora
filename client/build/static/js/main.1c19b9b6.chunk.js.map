{"version":3,"sources":["context/UserContext.js","components/LoginForm.js","components/Schools.js","components/Managers.js","components/Teachers.js","components/Classes.js","components/Class.js","assets/circle.png","components/Dashboard.js","App.js","index.js"],"names":["UserContext","createContext","UserProvider","props","useState","userData","setUserData","Provider","value","children","LoginForm","useContext","errorHandle","setErrorHandle","view","setView","loginEmail","setLoginEmail","loginPassword","setLoginPassword","regName","setRegName","regEmail","setRegEmail","regPassword","setRegPassword","useEffect","userEmail","localStorage","getItem","userPassword","details","email","password","axios","post","then","res","get","params","newUserData","data","setLoggedIn","catch","err","console","log","className","undefined","onChange","e","target","placeholder","name","onClick","preventDefault","userToken","headers","setItem","payload","error","Classes","functionView","setFunctionView","addSchoolName","setAddSchoolName","addSchoolAddress","setAddSchoolAddress","addSchoolContactNumber","setAddSchoolContactNumber","inputAssignManagerSchoolId","setInputAssignManagerSchoolId","inputAssignManagerId","setInputAssignManagerId","type","autoFocus","address","contactNumber","readAllSchools","schools","map","school","_id","managers","manager","chosenManager","filter","chosenSchool","put","assignManager","managerName","id","delete","deleteSchool","Managers","addManagerName","setAddManagerName","addManagerEmail","setAddManagerEmail","addManagerPassword","setAddManagerPassword","readAllManagers","schoolName","deleteManager","Teachers","teachers","teacher","isAuthed","readAllTeachers","authorizeUser","deleteTeacher","addClassName","setAddClassName","addClassBook","setAddClassBook","book","localTeacherName","localTeacherId","newClasses","classes","_class","Date","now","push","userId","readAllClasses","setClassData","getClassData","filteredClasses","deleteClass","Class","studentName","setStudentName","studentAge","setStudentAge","deleteStudent","newClassData","classData","removeIndex","students","student","indexOf","splice","localTeacher","Math","floor","random","age","Dashboard","setSchools","setManagers","setTeachers","setClasses","readAuthorizedClasses","classIds","item","src","Circle","alt","width","authority","clear","Schools","App","loggedIn","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"qOAEaA,EAAcC,0BAEdC,EAAe,SAAAC,GAAU,IAAD,EACDC,mBAAS,IADR,mBAC1BC,EAD0B,KAChBC,EADgB,KAGjC,OACI,cAACN,EAAYO,SAAb,CAAsBC,MAAO,CAACH,EAAUC,GAAxC,SACKH,EAAMM,YCgMJC,EArMG,SAACP,GAAU,MAGOQ,qBAAWX,GAHlB,mBAGRM,GAHQ,aAIaF,mBAAS,IAJtB,mBAIlBQ,EAJkB,KAILC,EAJK,OAMDT,mBAAS,SANR,mBAMlBU,EANkB,KAMZC,EANY,OAQWX,mBAAS,IARpB,mBAQlBY,EARkB,KAQNC,EARM,OASiBb,mBAAS,IAT1B,mBASlBc,EATkB,KASHC,EATG,OAWKf,mBAAS,IAXd,mBAWlBgB,EAXkB,KAWTC,EAXS,OAYOjB,mBAAS,IAZhB,mBAYlBkB,EAZkB,KAYRC,EAZQ,OAaanB,mBAAS,IAbtB,mBAalBoB,EAbkB,KAaLC,EAbK,KAgBzBC,qBAAU,WACN,IAAMC,EAAYC,aAAaC,QAAQ,aACjCC,EAAeF,aAAaC,QAAQ,gBAC1C,GAAkB,OAAdF,EAAoB,CACpB,IAAMI,EAAU,CACZC,MAAOL,EACPM,SAAUH,GAGdI,IAAMC,KAAK,mBAAoBJ,GAC9BK,MAAK,SAAAC,GAEFH,IAAMI,IAAI,aAAc,CACpBC,OAAQ,CACJP,MAAOL,KAGdS,MAAK,SAAAC,GACF,IAAMG,EAAcH,EAAII,KACxBnC,EAAYkC,GACZrC,EAAMuC,aAAY,MAErBC,OAAM,SAAAC,GACHC,QAAQC,IAAIF,YAKzB,IA+GH,OACI,sBAAKG,UAAU,iBAAf,UACc,UAATjC,GACD,sBAAKiC,UAAU,kBAAf,UACI,gEACA,iCACI,uBAAOA,UAA8B,UAAnBnC,EAAY,GAAiB,aAAUoC,EAAYC,SAAU,SAACC,GAAD,OAAOjC,EAAciC,EAAEC,OAAO3C,QAC7G4C,YAAgC,UAAnBxC,EAAY,GAAiBA,EAAY,GAAK,QAAUyC,KAAK,QAAQ7C,MAAOQ,IACzF,uBAAO+B,UAA8B,aAAnBnC,EAAY,GAAoB,aAAUoC,EAAYC,SAAU,SAACC,GAAD,OAAO/B,EAAiB+B,EAAEC,OAAO3C,QACnH4C,YAAgC,aAAnBxC,EAAY,GAAoBA,EAAY,GAAK,WAAYyC,KAAK,WAAW7C,MAAOU,IACjG,wBAAQoC,QAtHV,SAACJ,EAAGlB,EAAOC,GACrBiB,EAAEK,iBACF,IAAMxB,EAAU,CACZC,MAAOhB,EACPiB,SAAUf,GAEdgB,IAAMC,KAAK,mBAAoBJ,GAC9BK,MAAK,SAAAC,GAEF,OADAQ,QAAQC,IAAIT,EAAII,MACRJ,EAAII,MACR,IAAK,qCACD5B,EAAe,CAAC,QAAS,0BACzB,MACJ,IAAK,oDACDA,EAAe,CAAC,QAAS,6CACzBI,EAAc,IACd,MACJ,IAAK,gCACDJ,EAAe,CAAC,QAAS,0BACzBI,EAAc,IACd,MACJ,IAAK,kBACDJ,EAAe,CAAC,QAAS,oBACzB,MACJ,IAAK,wCACDA,EAAe,CAAC,WAAY,6BAC5B,MACJ,IAAK,uDACDA,EAAe,CAAC,WAAY,0BAC5BM,EAAiB,IACjB,MACJ,IAAK,mBACDN,EAAe,CAAC,WAAY,qBAC5BM,EAAiB,IACjB,MACJ,IAAK,sBACDN,EAAe,kBACfI,EAAc,IAAKE,EAAiB,IACpC,MACJ,QACI,IAAMqC,EAAYnB,EAAIoB,QAAQ,cAC9B7B,aAAa8B,QAAQ,YAAaF,GAClC5B,aAAa8B,QAAQ,YAAa1C,GAClCY,aAAa8B,QAAQ,eAAgBxC,GACrCf,EAAMuC,aAAY,GAG1BR,IAAMI,IAAI,aAAc,CACpBC,OAAQ,CACJP,MAAOhB,KAGdoB,MAAK,SAAAC,GACF,IAAMG,EAAcH,EAAII,KACxBnC,EAAYkC,MAEfG,OAAM,SAAAC,GACHC,QAAQC,IAAI,UAAYF,UA6DpB,sBAEa,mBAAhBhC,GACD,kDAAoB,uBAApB,yCAEA,mBAAGmC,UAAU,gBAAgBO,QAAS,kBAAMvC,EAAQ,aAApD,uCAGM,aAATD,GACD,sBAAKiC,UAAU,qBAAf,UACI,wDACiB,eAAhBnC,GACD,uBAAMmC,UAAU,aAAhB,UACI,uBAAOA,UAA8B,SAAnBnC,EAAY,GAAgB,aAAUoC,EAAWC,SAAU,SAACC,GAAD,OAAO7B,EAAW6B,EAAEC,OAAO3C,QACxG4C,YAAgC,SAAnBxC,EAAY,GAAgBA,EAAY,GAAK,OAAQyC,KAAK,OAAO7C,MAAOY,IACrF,uBAAO2B,UAA8B,UAAnBnC,EAAY,GAAiB,aAAUoC,EAAWC,SAAU,SAACC,GAAD,OAAO3B,EAAY2B,EAAEC,OAAO3C,QAC1G4C,YAAgC,UAAnBxC,EAAY,GAAiBA,EAAY,GAAK,QAASyC,KAAK,QAAQ7C,MAAOc,IACxF,uBAAOyB,UAA8B,aAAnBnC,EAAY,GAAoB,aAAUoC,EAAWC,SAAU,SAACC,GAAD,OAAOzB,EAAeyB,EAAEC,OAAO3C,QAChH4C,YAAgC,aAAnBxC,EAAY,GAAoBA,EAAY,GAAK,WAAYyC,KAAK,WAAW7C,MAAOgB,IACjG,wBAAQ8B,QA3EP,SAACJ,GACdA,EAAEK,iBACF,IAAMI,EAAU,CACZN,KAAMjC,EACNY,MAAOV,EACPW,SAAUT,GAEdU,IAAMC,KAAK,sBAAuBwB,GACjCvB,MAAK,SAAAC,GACF,OAAQA,EAAII,MACR,IAAK,oCACD5B,EAAe,CAAC,OAAQ,yBACxB,MACJ,IAAK,qCACDA,EAAe,CAAC,QAAS,0BACzB,MACJ,IAAK,oDACDA,EAAe,CAAC,QAAS,6CACzBU,EAAY,IACZ,MACJ,IAAK,gCACDV,EAAe,CAAC,QAAS,0BACzBU,EAAY,IACZ,MACJ,IAAK,kBACDV,EAAe,CAAC,QAAS,iBACzBU,EAAY,IACZ,MACJ,IAAK,wCACDV,EAAe,CAAC,WAAY,6BAC5B,MACJ,IAAK,uDACDA,EAAe,CAAC,WAAY,0BAC5BY,EAAe,IACf,MACJ,QACIZ,EAAe,cACfQ,EAAW,IAAKE,EAAY,IAAKE,EAAe,QAI3DkB,OAAM,SAAAiB,GACHf,QAAQC,IAAIc,OAiCJ,yBAGa,eAAhBhD,GACD,yDAA2B,uBAA3B,yCAEA,mBAAGmC,UAAU,aAAaO,QAAS,kBAAMvC,EAAQ,UAAjD,mDCvDD8C,EAxIC,SAAC1D,GAEKyB,aAAaC,QAAQ,aAAvC,IAFuB,EAGiBzB,mBAAS,IAH1B,mBAGhB0D,EAHgB,KAGFC,EAHE,OAMmB3D,mBAAS,IAN5B,mBAMhB4D,EANgB,KAMDC,EANC,OAOyB7D,mBAAS,IAPlC,mBAOhB8D,EAPgB,KAOEC,EAPF,OAQqC/D,mBAAS,IAR9C,mBAQhBgE,EARgB,KAQQC,EARR,OAU6CjE,mBAAS,IAVtD,mBAUhBkE,EAVgB,KAUYC,EAVZ,OAWiCnE,mBAAS,IAX1C,mBAWhBoE,EAXgB,KAWMC,EAXN,KAwEvB,OACI,sBAAK1B,UAAU,oBAAf,UACI,sBAAKA,UAAU,cAAf,UACI,qBAAKA,UAAU,aAAf,SACI,0CAEJ,sBAAKA,UAAU,YAAf,UACI,wBAAQA,UAAU,wBAAwBO,QAAS,kBAAMS,EAAgB,mBAAzE,4BACA,wBAAQhB,UAAU,uBAAuBO,QAAS,kBAAMS,EAAgB,kBAAxE,0BAIR,sBAAKhB,UAAU,sBAAf,UACsB,kBAAjBe,GACD,iCACI,gCACI,uBAAOY,KAAK,OAAOlE,MAAOwD,EAAeZ,YAAY,cAAcH,SAAU,SAACC,GAAD,OAAOe,EAAiBf,EAAEC,OAAO3C,QAAQmE,WAAS,IAC/H,uBAAOD,KAAK,OAAOlE,MAAO0D,EAAkBd,YAAY,iBAAiBH,SAAU,SAACC,GAAD,OAAOiB,EAAoBjB,EAAEC,OAAO3C,UACvH,uBAAOkE,KAAK,OAAOlE,MAAO4D,EAAwBhB,YAAY,wBAAwBH,SAAU,SAACC,GAAD,OAAOmB,EAA0BnB,EAAEC,OAAO3C,aAE9I,wBAAQ8C,QA7EH,SAACJ,GAClBA,EAAEK,iBACF,IAAMI,EAAU,CACZN,KAAMW,EACNY,QAASV,EACTW,cAAeT,GAGnBlC,IAAMC,KAAK,4BAA6BwB,GACvCvB,MAAK,SAAAC,GACFlC,EAAM2E,iBACNf,EAAgB,OAEnBpB,OAAM,SAAAC,GACHC,QAAQC,IAAIF,OA+DJ,wBACA,wBAAQU,QAAS,kBAAMS,EAAgB,KAAvC,uBAGc,mBAAjBD,GACD,iCACI,gCACI,sDACA,yBAAQtD,MAAO8D,EAA4BrB,SAAU,SAACC,GAAD,OAAOqB,EAA8BrB,EAAEC,OAAO3C,QAAnG,UACI,4DACCL,EAAM4E,QAAQC,KAAI,SAAAC,GAAM,OACrB,wBAAQzE,MAAOyE,EAAOC,IAAtB,SAA6CD,EAAO5B,MAApB4B,EAAOC,WAG/C,uBACA,uDACA,yBAAQ1E,MAAOgE,EAAsBvB,SAAU,SAACC,GAAD,OAAOuB,EAAwBvB,EAAEC,OAAO3C,QAAvF,UACI,6DACCL,EAAMgF,SAASH,KAAI,SAAAI,GAAO,OACvB,wBAAQ5E,MAAO4E,EAAQF,IAAvB,SAA+CE,EAAQ/B,MAAtB+B,EAAQF,cAIrD,wBAAQ5B,QAAS,SAACJ,GAAD,OAjFX,SAACA,GACnBA,EAAEK,iBACF,IAAM8B,EAAgBlF,EAAMgF,SAASG,QAAO,SAAAF,GAAO,OAAIA,EAAQF,MAAQV,KACjEe,EAAepF,EAAM4E,QAAQO,QAAO,SAAAL,GAAM,OAAIA,EAAOC,MAAQZ,KAC7DX,EAAU,CACd,SAAY4B,EAAa,GAAGL,IAC5B,WAAcK,EAAa,GAAGlC,KAC9B,UAAagC,EAAc,GAAGH,IAC9B,YAAeG,EAAc,GAAGhC,MAGlCnB,IAAMsD,IAAI,0BAA2B7B,GACpCvB,MAAK,SAACC,GACHH,IAAMsD,IAAI,6BAA8B7B,GACvCvB,MAAK,SAAAC,GACFlC,EAAM2E,iBACNf,EAAgB,OAEnBpB,OAAM,SAAAC,GACHC,QAAQC,IAAIF,SAGnBD,OAAM,SAACC,GACJC,QAAQC,IAAIF,MA0DoB6C,CAAcvC,IAAtC,yBACA,wBAAQI,QAAS,kBAAMS,EAAgB,KAAvC,0BAKR,qBAAKhB,UAAU,eAAf,SACK5C,EAAM4E,QAAQC,KAAI,SAAAC,GAAM,OACzB,sBAAKlC,UAAU,cAAf,UACI,6BAAKkC,EAAO5B,OACZ,0CAAa4B,EAAOL,WACpB,0CAAaK,EAAOG,SAAWH,EAAOG,QAAQM,eAC9C,wBAAQpC,QAAS,SAACJ,GAAD,OAlEZ,SAACA,EAAGyC,GACrBzC,EAAEK,iBACFrB,IAAM0D,OAAO,6BAA+BD,GAC3CvD,MAAK,SAACC,GACHlC,EAAM2E,oBAETnC,OAAM,SAACC,GACJC,QAAQC,IAAIF,MA2DoBiD,CAAa3C,EAAG+B,EAAOC,MAA/C,2BACA,uBAAK,yBALyBD,EAAOC,cCvC1CY,EApFE,SAAC3F,GAEIyB,aAAaC,QAAQ,aAAvC,IAFwB,EAGgBzB,mBAAS,IAHzB,mBAGjB0D,EAHiB,KAGHC,EAHG,OAKoB3D,mBAAS,IAL7B,mBAKjB2F,EALiB,KAKDC,EALC,OAMsB5F,mBAAS,IAN/B,mBAMjB6F,EANiB,KAMAC,EANA,OAO4B9F,mBAAS,IAPrC,mBAOjB+F,EAPiB,KAOGC,EAPH,KA2CxB,OACI,sBAAKrD,UAAU,qBAAf,UAEI,sBAAKA,UAAU,cAAf,UACI,qBAAKA,UAAU,aAAf,SACI,2CAEJ,qBAAKA,UAAU,YAAf,SACI,wBAAQA,UAAU,wBAAwBO,QAAS,kBAAMS,EAAgB,mBAAzE,yBAIR,qBAAKhB,UAAU,sBAAf,SACsB,mBAAjBe,GACD,uBAAMf,UAAU,aAAhB,UACI,uBAAO2B,KAAK,OAAOlE,MAAOuF,EAAgB3C,YAAY,eAAeH,SAAU,SAACC,GAAD,OAAO8C,EAAkB9C,EAAEC,OAAO3C,QAAQmE,WAAS,IAClI,uBAAOD,KAAK,OAAOlE,MAAOyF,EAAiB7C,YAAY,gBAAgBH,SAAU,SAACC,GAAD,OAAOgD,EAAmBhD,EAAEC,OAAO3C,UACpH,uBAAOkE,KAAK,OAAOlE,MAAO2F,EAAoB/C,YAAY,mBAAmBH,SAAU,SAACC,GAAD,OAAOkD,EAAsBlD,EAAEC,OAAO3C,UAC7H,wBAAQ8C,QAjDF,SAACJ,GACnBA,EAAEK,iBACF,IAAMI,EAAU,CACZN,KAAM0C,EACN/D,MAAOiE,EACPhE,SAAUkE,GAGdjE,IAAMC,KAAK,8BAA+BwB,GACzCvB,MAAK,SAAAC,GACFlC,EAAMkG,kBACNtC,EAAgB,IAChBiC,EAAkB,IAAKE,EAAmB,IAAKE,EAAsB,OAExEzD,OAAM,SAAAC,GACHC,QAAQC,IAAIF,OAkCJ,4BACA,wBAAQU,QAAS,kBAAMS,EAAgB,KAAvC,yBAKR,qBAAKhB,UAAU,gBAAf,SACK5C,EAAMgF,SAASH,KAAI,SAAAI,GAAO,OAC3B,sBAAKrC,UAAU,eAAf,UACI,6BAAKqC,EAAQ/B,OACb,wCAAW+B,EAAQpD,SACnB,yCAAYoD,EAAQH,OAAOqB,cAC3B,wBAAQhD,QAAS,SAACJ,GAAD,OA1CX,SAACA,EAAGyC,GACtBzC,EAAEK,iBACFrB,IAAM0D,OAAO,+BAAiCD,GAC7CvD,MAAK,SAACC,GACHlC,EAAMkG,qBAET1D,OAAM,SAACC,GACJC,QAAQC,IAAIF,MAmCoB2D,CAAcrD,EAAGkC,EAAQF,MAAjD,4BACA,uBACA,yBAN+BE,EAAQF,cClB5CsB,EApDE,SAACrG,GACd,IAAMqD,EAAY5B,aAAaC,QAAQ,aAmCvC,OACI,qBAAKkB,UAAU,qBAAf,SACI,qBAAKA,UAAU,gBAAf,SACK5C,EAAMsG,SAASzB,KAAI,SAAA0B,GAAO,OAC3B,sBAAK3D,UAAU,aAAf,UACI,6BAAK2D,EAAQrD,OACb,8CAAiBqD,EAAQC,SAAW,aAAe,kBACnD,wBAAQrD,QAAS,SAACJ,GAAD,OAtCX,SAACA,EAAGyC,GACtBzC,EAAEK,iBACFrB,IAAMsD,IAAI,6BAA+BG,EAAI,CAC7ClC,QAAS,CACL,aAAcD,KAGjBpB,MAAK,SAACC,GACHQ,QAAQC,IAAIT,EAAII,MAChBtC,EAAMyG,qBAETjE,OAAM,SAACC,GACJC,QAAQC,IAAIF,MA0BoBiE,CAAc3D,EAAGwD,EAAQxB,MAAjD,uBACA,wBAAQ5B,QAAS,SAACJ,GAAD,OAxBX,SAACA,EAAGyC,GACtBzC,EAAEK,iBACFrB,IAAM0D,OAAO,+BAAiCD,EAAI,CAClDlC,QAAS,CACL,aAAcD,KAGjBpB,MAAK,SAACC,GACHQ,QAAQC,IAAIT,EAAII,MAChBtC,EAAMyG,qBAETjE,OAAM,SAACC,GACJC,QAAQC,IAAIF,MAYoBkE,CAAc5D,EAAGwD,EAAQxB,MAAjD,8BAJ6BwB,EAAQxB,aCsG1CrB,EA5IC,SAAC1D,GACb,IAAMqD,EAAY5B,aAAaC,QAAQ,aADhB,EAKSlB,qBAAWX,GALpB,mBAKhBK,EALgB,aAOiBD,mBAAS,KAP1B,mBAOhB2G,EAPgB,KAOFC,EAPE,OAQiB5G,mBAAS,IAR1B,mBAQhB6G,EARgB,KAQFC,EARE,KAsHvB,OACI,sBAAKnE,UAAU,oBAAf,UACI,uBAAMA,UAAU,YAAhB,UACI,uBAAO2B,KAAK,OAAOlE,MAAOuG,EAAc3D,YAAY,aAAaH,SAAU,SAACC,GAAD,OAAO8D,EAAgB9D,EAAEC,OAAO3C,UAC3G,uBAAOkE,KAAK,OAAOlE,MAAOyG,EAAc7D,YAAY,aAAaH,SAAU,SAACC,GAAD,OAAOgE,EAAgBhE,EAAEC,OAAO3C,UAC3G,wBAAQ8C,QAhHA,SAACJ,GACjBA,EAAEK,iBACF,IAAMC,EAAY5B,aAAaC,QAAQ,aACjC8B,EAAU,CACZN,KAAM0D,EACNI,KAAMF,EACNG,iBAAkB/G,EAASgD,KAC3BgE,eAAgBhH,EAAS6E,KAG7BhD,IAAMC,KAAK,sBAAuBwB,EAAS,CAC3CF,QAAS,CACL,aAAcD,KAGjBpB,MAAK,SAAAC,GAEF,IAAMiF,EAAajH,EAASkH,QACtBC,EAAS,CACb,KAAQT,EACR,GAAM1E,EAAII,KACV,UAAapC,EAAS6E,IACtB,KAAQuC,KAAKC,OAEfJ,EAAWK,KAAKH,GAChB,IAAM7D,EAAU,CACZiE,OAAQvH,EAAS6E,IACjBqC,QAASD,GAEbpF,IAAMsD,IAAI,yBAA0B7B,EAAS,CAC7CF,QAAS,CACL,aAAcD,KAGjBpB,MAAK,SAAAC,GAEFlC,EAAM0H,oBAETlF,OAAM,SAAAC,GACHC,QAAQC,IAAIF,SAGnBD,OAAM,SAAAC,GACHC,QAAQC,IAAIF,OAqER,0BAEJ,qBAAKG,UAAU,cAAf,SACK5C,EAAMoH,QAAQvC,KAAI,SAAAwC,GAAM,OACzB,sBAAKzE,UAAU,aAAf,UACI,6BAAKyE,EAAOnE,OACZ,uCAAUmE,EAAOL,QACjB,gDAAmBK,EAAOJ,oBAC1B,wBAAQ9D,QAAS,SAACqC,GAAD,OA/BZ,SAACA,GAClB,IAAMnC,EAAY5B,aAAaC,QAAQ,aACvCK,IAAMI,IAAI,iBAAmBqD,EAAI,CACjClC,QAAS,CACL,aAAcD,KAGjBpB,MAAK,SAACC,GACHQ,QAAQC,IAAIT,EAAII,KAAK,IACrBtC,EAAM2H,aAAazF,EAAII,KAAK,IAC5BtC,EAAMY,QAAQ,YAGjB4B,OAAM,SAACiB,GACJf,QAAQe,MAAM,UAAYA,MAiBOmE,CAAaP,EAAOtC,MAA7C,wBAAsE,uBACtE,wBAAQ5B,QAAS,SAACqC,GAAD,OA3Eb,SAACA,GAEjBzD,IAAM0D,OAAO,uBAAyBD,GACrCvD,MAAK,SAACC,GAgBH,IACM2F,EADa3H,EAASkH,QACOjC,QAAO,SAAAkC,GAAM,OAAIA,EAAO7B,KAAOA,KAClE9C,QAAQC,IAAIkF,GACZ,IAAMrE,EAAU,CACZiE,OAAQvH,EAAS6E,IACjBqC,QAASS,GAEb9F,IAAMsD,IAAI,4BAA6B7B,EAAS,CAChDF,QAAS,CACL,aAAcD,KAGjBpB,MAAK,SAAAC,GACFlC,EAAM0H,oBAETlF,OAAM,SAAAC,GACHC,QAAQC,IAAIF,SAGnBD,OAAM,SAACC,GACJC,QAAQC,IAAIF,MAoCqBqF,CAAYT,EAAOtC,MAAMnC,UAAU,sBAA5D,4BAL6ByE,EAAOtC,cCzCzCgD,EAvFD,SAAC/H,GAAU,MAGiBC,mBAAS,IAH1B,mBAGd+H,EAHc,KAGDC,EAHC,OAIehI,mBAAS,IAJxB,mBAIdiI,EAJc,KAIFC,EAJE,KA+CfC,EAAgB,SAAC5C,GACnB,IAAM6C,EAAerI,EAAMsI,UACvBC,EAAcF,EAAaG,SAAS3D,KAAI,SAAS4D,GAAW,OAAOA,EAAQ1D,OAAQ2D,QAAQlD,GAC/F6C,EAAaG,SAASG,OAAOJ,EAAa,GAC1CxG,IAAMsD,IAAI,6BAA8BgD,GACvCpG,MAAK,SAACC,GACHQ,QAAQC,IAAIT,EAAII,MA3CH,SAACkD,GAClB,IAAMnC,EAAY5B,aAAaC,QAAQ,aACvCK,IAAMI,IAAI,iBAAmBqD,EAAI,CACjClC,QAAS,CACL,aAAcD,KAGjBpB,MAAK,SAACC,GACHQ,QAAQC,IAAIT,EAAII,KAAK,IACrBtC,EAAM2H,aAAazF,EAAII,KAAK,OAE/BE,OAAM,SAACiB,GACJf,QAAQe,MAAM,UAAYA,MAiC1BmE,CAAa5H,EAAMsI,UAAUvD,QAEhCvC,OAAM,SAACC,GACJC,QAAQC,IAAIF,OAIpB,OACI,sBAAKG,UAAU,kBAAf,UACI,sBAAKA,UAAU,0BAAf,UACI,6BAAK5C,EAAMsI,UAAUpF,OACrB,6BAAKlD,EAAMsI,UAAUtB,OACrB,6BAAKhH,EAAMsI,UAAUM,kBAEzB,uBAAMhG,UAAU,wBAAhB,UACI,uBAAO2B,KAAK,OAAOlE,MAAO2H,EAAa/E,YAAY,UAAUH,SAAU,SAACC,GAAD,OAAOkF,EAAelF,EAAEC,OAAO3C,UACtG,uBAAOkE,KAAK,OAAOlE,MAAO6H,EAAYjF,YAAY,SAASH,SAAU,SAACC,GAAD,OAAOoF,EAAcpF,EAAEC,OAAO3C,UACnG,wBAAQ8C,QA9CE,SAACJ,GACnBA,EAAEK,iBACF,IAAMiF,EAAerI,EAAMsI,UACrBG,EAAU,CACd,KAAQT,EACR,IAAOE,EACP,MAASlI,EAAMsI,UAAUpF,KACzB,IAzBK2F,KAAKC,MAAsB,IAAhBD,KAAKE,WA2BvBV,EAAaG,SAAShB,KAAKiB,GAC3B1G,IAAMsD,IAAI,6BAA8BrF,EAAMsI,WAC7CrG,MAAK,SAACC,GACHQ,QAAQC,IAAIT,EAAII,MAEhB2F,EAAe,IAAKE,EAAc,OAErC3F,OAAM,SAACC,GACJC,QAAQC,IAAIF,OA6BR,4BAEJ,qBAAKG,UAAU,qBAAf,SACK5C,EAAMsI,UAAUE,SAAS3D,KAAI,SAAA4D,GAAO,OACjC,sBAAK7F,UAAU,eAAf,UACI,6BAAK6F,EAAQvF,OACb,sCAASuF,EAAQO,OACjB,wBAAQ7F,QAAS,SAACqC,GAAD,OAAQ4C,EAAcK,EAAQ1D,MAA/C,wC,6BClFT,MAA0B,mCCsL1BkE,EApKG,SAACjJ,GACf,IAAMqD,EAAY5B,aAAaC,QAAQ,aADd,EAEDzB,mBAAS,WAFR,mBAElBU,EAFkB,KAEZC,EAFY,OAKOJ,qBAAWX,GALlB,mBAKlBK,EALkB,aAOKD,mBAAS,KAPd,mBAOlB2E,EAPkB,KAOTsE,EAPS,OAQOjJ,mBAAS,IARhB,mBAQlB+E,EARkB,KAQRmE,EARQ,OASOlJ,mBAAS,IAThB,mBASlBqG,EATkB,KASR8C,EATQ,OAUKnJ,mBAAS,IAVd,mBAUlBmH,EAVkB,KAUTiC,EAVS,OAWSpJ,mBAAS,IAXlB,mBAWlBqI,EAXkB,KAWPX,EAXO,KAmBnBhD,EAAiB,WACnB5C,IAAMI,IAAI,iBACTF,MAAK,SAACC,GACHgH,EAAWhH,EAAII,MACfP,IAAMI,IAAI,kBACTF,MAAK,SAAAC,GACFiH,EAAYjH,EAAII,MAChB1B,EAAQ,cAEX4B,OAAM,SAAAC,GACHC,QAAQe,MAAM,UAAYhB,SAGjCD,OAAM,SAAAC,GACHC,QAAQe,MAAM,UAAYhB,OAG5ByD,EAAkB,WACpBnE,IAAMI,IAAI,kBACTF,MAAK,SAACC,GACHiH,EAAYjH,EAAII,MAChB1B,EAAQ,eAEX4B,OAAM,SAACiB,GACJf,QAAQe,MAAM,UAAYA,OAI5BgD,EAAkB,WACpB1E,IAAMI,IAAI,iBAAkB,CAC5BmB,QAAS,CACL,aAAcD,KAGjBpB,MAAK,SAACC,GACHkH,EAAYlH,EAAII,MAChB1B,EAAQ,eAEX4B,OAAM,SAACiB,GACJf,QAAQe,MAAM,UAAYA,OAI5BiE,EAAiB,WACnB3F,IAAMI,IAAI,iBACTF,MAAK,SAACC,GACHmH,EAAWnH,EAAII,MACf1B,EAAQ,cAEX4B,OAAM,SAACiB,GACJf,QAAQe,MAAM,UAAYA,OAG5B6F,EAAwB,WAC1B,IAAMC,EAAWrJ,EAASkH,QAAQvC,KAAI,SAAA2E,GAAI,OAAIA,EAAKhE,MACnD9C,QAAQC,IAAI4G,GACZxH,IAAMI,IAAI,sCAAuC,CAACC,OAAQ,CAACmH,SAAUA,KACpEtH,MAAK,SAACC,GACHmH,EAAWnH,EAAII,MACf1B,EAAQ,cAEX4B,OAAM,SAACiB,GACJf,QAAQe,MAAM,UAAYA,OAKlC,OACI,sBAAKb,UAAU,YAAf,UAEI,sBAAKA,UAAU,uBAAf,UACI,sBAAKA,UAAU,QAAf,UACI,qBAAK6G,IAAKC,EAAQC,IAAI,UAAUC,MAAM,SACtC,8BAAI1J,EAASgD,KAAK,uBAAK,4BAAIhD,EAAS2J,eACpC,oBAAGjH,UAAU,OAAOO,QAAS,kBAAMvC,EAAQ,YAA3C,UAAwD,cAAC,IAAD,CAAiBgC,UAAU,SAAS,uBAA5F,eACwB,UAAvB1C,EAAS2J,WACN,oBAAGjH,UAAU,OAAOO,QAASwB,EAA7B,UAA8C,cAAC,IAAD,CAAU/B,UAAU,SAAS,uBAA3E,aAEoB,UAAvB1C,EAAS2J,WACN,oBAAGjH,UAAU,OAAOO,QAAS+C,EAA7B,UAA+C,cAAC,IAAD,CAAatD,UAAU,SAAS,uBAA/E,cAEqB,UAAxB1C,EAAS2J,WACN,oBAAGjH,UAAU,OAAOO,QAASsD,EAA7B,UAA+C,cAAC,IAAD,CAAW7D,UAAU,SAAS,uBAA7E,cAEJ,oBAAGA,UAAU,OAAOO,QAAgC,UAAvBjD,EAAS2J,UAAwBnC,EAAiB4B,EAA/E,UAAuG,cAAC,IAAD,CAAmB1G,UAAU,SAAS,uBAA7I,gBAEJ,qBAAKA,UAAU,SAAf,SACI,mBAAGO,QA5FJ,WACX1B,aAAaqI,QACb9J,EAAMuC,aAAY,IA0FN,SAAoB,cAAC,IAAD,WAI5B,sBAAKK,UAAU,oBAAf,UAEc,YAATjC,GACD,sBAAKiC,UAAU,oBAAf,UAC4B,UAAvB1C,EAAS2J,WACV,sBAAKjH,UAAU,eAAf,UACI,yCACA,cAAC,IAAD,CAAUA,UAAU,SACpB,wBAAQO,QAASwB,EAAjB,qBAGoB,UAAvBzE,EAAS2J,WACV,sBAAKjH,UAAU,eAAf,UACI,0CACA,cAAC,IAAD,CAAaA,UAAU,SACvB,wBAAQO,QAAS+C,EAAjB,qBAGqB,UAAxBhG,EAAS2J,WACV,sBAAKjH,UAAU,eAAf,UACI,0CACA,cAAC,IAAD,CAAWA,UAAU,SACrB,wBAAQO,QAASsD,EAAjB,qBAGqB,UAAxBvG,EAAS2J,WACV,sBAAKjH,UAAU,eAAf,UACI,yCACA,cAAC,IAAD,CAAmBA,UAAU,SAC7B,wBAAQO,QAAgC,UAAvBjD,EAAS2J,UAAwBnC,EAAiB4B,EAAnE,wBAME,YAAT3I,GACG,cAACoJ,EAAD,CAASnJ,QAASA,EAASV,SAAUA,EAAU0E,QAASA,EAASD,eAAgBA,EAAgBK,SAAUA,IAErG,aAATrE,GACG,cAAC,EAAD,CAAUC,QAASA,EAASV,SAAUA,EAAU8E,SAAUA,EAAUkB,gBAAiBA,EAAiBtB,QAASA,IAEzG,aAATjE,GACG,cAAC,EAAD,CAAUC,QAASA,EAAS0F,SAAUA,EAAU8C,YAAaA,EAAa3C,gBAAiBA,IAErF,YAAT9F,GACG,cAAC,EAAD,CAASC,QAASA,EAASV,SAAUA,EAAUkH,QAASA,EAASkB,UAAWA,EAAWX,aAAcA,EAAcD,eAAgBA,IAE7H,UAAT/G,GACG,cAAC,EAAD,CAAOC,QAASA,EAASV,SAAUA,EAAUkH,QAASA,EAASkB,UAAWA,EAAWX,aAAcA,WCtJxGqC,MApBf,WAAe,MAGmB/J,oBAAS,GAH5B,mBAGNgK,EAHM,KAGI1H,EAHJ,KAMb,OACE,cAAC,EAAD,UACE,sBAAKK,UAAU,MAAf,WACIqH,GACA,cAAC,EAAD,CAAW1H,YAAaA,IAEzB0H,GACC,cAAC,EAAD,CAAW1H,YAAaA,UCdlC2H,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.1c19b9b6.chunk.js","sourcesContent":["import React, { useState, createContext } from 'react';\r\n\r\nexport const UserContext = createContext();\r\n\r\nexport const UserProvider = props => {\r\n    const [userData, setUserData] = useState({});\r\n    \r\n    return (\r\n        <UserContext.Provider value={[userData, setUserData]}>\r\n            {props.children}\r\n        </UserContext.Provider>\r\n    )\r\n}","import { useState, useEffect, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport { UserContext } from '../context/UserContext';\r\n\r\nconst LoginForm = (props) => {\r\n    //UserData\r\n    // eslint-disable-next-line\r\n    const [userData, setUserData] = useContext(UserContext);\r\n    const [errorHandle, setErrorHandle] = useState('');\r\n    //View\r\n    const [view, setView] = useState('login');\r\n    //Login\r\n    const [loginEmail, setLoginEmail] = useState('');\r\n    const [loginPassword, setLoginPassword] = useState('');\r\n    //Register\r\n    const [regName, setRegName] = useState('');\r\n    const [regEmail, setRegEmail] = useState('');\r\n    const [regPassword, setRegPassword] = useState('');\r\n\r\n    //Automatic login\r\n    useEffect(() => {\r\n        const userEmail = localStorage.getItem('userEmail');\r\n        const userPassword = localStorage.getItem('userPassword');\r\n        if (userEmail !== null) {\r\n            const details = {\r\n                email: userEmail,\r\n                password: userPassword\r\n            }\r\n            // login()\r\n            axios.post('/api/users/login', details)\r\n            .then(res => {\r\n                //Get User Data\r\n                axios.get('/api/users', {\r\n                    params: {\r\n                        email: userEmail\r\n                    }\r\n                })\r\n                .then(res => {\r\n                    const newUserData = res.data;\r\n                    setUserData(newUserData);\r\n                    props.setLoggedIn(true);\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                });\r\n            })\r\n        }\r\n    // eslint-disable-next-line\r\n    }, []);\r\n\r\n    //Login existing user - pass\r\n    const login = (e, email, password) => {\r\n        e.preventDefault();\r\n        const details = {\r\n            email: loginEmail,\r\n            password: loginPassword\r\n        }\r\n        axios.post('/api/users/login', details)\r\n        .then(res => {\r\n            console.log(res.data);\r\n            switch (res.data) {\r\n                case '\"email\" is not allowed to be empty':\r\n                    setErrorHandle(['email' ,'Email cannot be empty'])\r\n                    break;\r\n                case '\"email\" length must be at least 6 characters long':\r\n                    setErrorHandle(['email' ,'Email must be at least 6 characters long']);\r\n                    setLoginEmail('');\r\n                    break;\r\n                case '\"email\" must be a valid email':\r\n                    setErrorHandle(['email' ,'Must be a valid email']);\r\n                    setLoginEmail('');\r\n                    break;\r\n                case 'email-not-found':\r\n                    setErrorHandle(['email' ,'Email not found'])\r\n                    break;\r\n                case '\"password\" is not allowed to be empty':\r\n                    setErrorHandle(['password' ,'Password cannot be empty']);\r\n                    break;\r\n                case '\"password\" length must be at least 6 characters long':\r\n                    setErrorHandle(['password' ,'Password is too short']);\r\n                    setLoginPassword('');\r\n                    break;\r\n                case 'invalid-password':\r\n                    setErrorHandle(['password' ,'Invalid password']);\r\n                    setLoginPassword('');\r\n                    break;\r\n                case 'user-not-authorized':\r\n                    setErrorHandle('not-authorized');\r\n                    setLoginEmail(''); setLoginPassword('');\r\n                    break;\r\n                default:\r\n                    const userToken = res.headers[\"auth-token\"];\r\n                    localStorage.setItem('userToken', userToken);\r\n                    localStorage.setItem('userEmail', loginEmail);\r\n                    localStorage.setItem('userPassword', loginPassword);\r\n                    props.setLoggedIn(true);\r\n            }\r\n            //Get User Data\r\n            axios.get('/api/users', {\r\n                params: {\r\n                    email: loginEmail\r\n                }\r\n            })\r\n            .then(res => {\r\n                const newUserData = res.data;\r\n                setUserData(newUserData);\r\n            })\r\n            .catch(err => {\r\n                console.log(\"Error: \" + err);\r\n            })\r\n        })\r\n    }\r\n    //Register new user\r\n    const register = (e) => {\r\n        e.preventDefault();\r\n        const payload = {\r\n            name: regName,\r\n            email: regEmail,\r\n            password: regPassword\r\n        }\r\n        axios.post('/api/users/register', payload)\r\n        .then(res => {\r\n            switch (res.data) {\r\n                case '\"name\" is not allowed to be empty':\r\n                    setErrorHandle(['name' ,'Name cannot be empty'])\r\n                    break;\r\n                case '\"email\" is not allowed to be empty':\r\n                    setErrorHandle(['email' ,'Email cannot be empty'])\r\n                    break;\r\n                case '\"email\" length must be at least 6 characters long':\r\n                    setErrorHandle(['email' ,'Email must be at least 6 characters long']);\r\n                    setRegEmail('');\r\n                    break;\r\n                case '\"email\" must be a valid email':\r\n                    setErrorHandle(['email' ,'Must be a valid email']);\r\n                    setRegEmail('');\r\n                    break;\r\n                case 'email-duplicate':\r\n                    setErrorHandle(['email' ,'doubleEmails']);\r\n                    setRegEmail('');\r\n                    break;\r\n                case '\"password\" is not allowed to be empty':\r\n                    setErrorHandle(['password' ,'Password cannot be empty']);\r\n                    break;\r\n                case '\"password\" length must be at least 6 characters long':\r\n                    setErrorHandle(['password' ,'Password is too short']);\r\n                    setRegPassword('');\r\n                    break;\r\n                default:\r\n                    setErrorHandle('registered');\r\n                    setRegName(''); setRegEmail(''); setRegPassword('');\r\n\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.log(error);\r\n        })\r\n    }\r\n    \r\n    return (\r\n        <div className=\"auth-container\">\r\n            {view === 'login' &&\r\n            <div className=\"login-container\">\r\n                <h1>Login with an existing account</h1>\r\n                <form>\r\n                    <input className={errorHandle[0] === 'email' ? \"error\" : undefined}  onChange={(e) => setLoginEmail(e.target.value)}\r\n                    placeholder={errorHandle[0] === \"email\" ? errorHandle[1] : \"Email\"}  name=\"email\" value={loginEmail}></input>\r\n                    <input className={errorHandle[0] === 'password' ? \"error\" : undefined}  onChange={(e) => setLoginPassword(e.target.value)}\r\n                    placeholder={errorHandle[0] === \"password\" ? errorHandle[1] : \"Password\"} name=\"password\" value={loginPassword}></input>\r\n                    <button onClick={login}>Login</button>\r\n                </form>\r\n                {errorHandle === 'not-authorized' &&\r\n                <p>Not approved yet.<br/>Please wait for Manager's approval.</p>\r\n                }\r\n                <p className=\"register-link\" onClick={() => setView('register')}>Register a new account</p>\r\n            </div>\r\n            }\r\n            {view === 'register' &&\r\n            <div className=\"register-container\">\r\n                <h1>Register a new account</h1>\r\n                {errorHandle !== 'registered' &&\r\n                <form className=\"input-main\">\r\n                    <input className={errorHandle[0] === 'name' ? \"error\" : undefined} onChange={(e) => setRegName(e.target.value)}\r\n                    placeholder={errorHandle[0] === \"name\" ? errorHandle[1] : \"Name\"} name=\"name\" value={regName}></input>\r\n                    <input className={errorHandle[0] === 'email' ? \"error\" : undefined} onChange={(e) => setRegEmail(e.target.value)}\r\n                    placeholder={errorHandle[0] === \"email\" ? errorHandle[1] : \"Email\"} name=\"email\" value={regEmail}></input>\r\n                    <input className={errorHandle[0] === 'password' ? \"error\" : undefined} onChange={(e) => setRegPassword(e.target.value)}\r\n                    placeholder={errorHandle[0] === \"password\" ? errorHandle[1] : \"Password\"} name=\"password\" value={regPassword}></input>\r\n                    <button onClick={register}>Register</button>\r\n                </form>\r\n                }\r\n                {errorHandle === 'registered' &&\r\n                <p>Successfully registered!<br/>Please wait for Manager's approval.</p>\r\n                }\r\n                <p className=\"login-link\" onClick={() => setView('login')}>Login with an existing account</p>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginForm","import { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Classes = (props) => {\r\n    // eslint-disable-next-line\r\n    const userToken = localStorage.getItem('userToken');\r\n    const [functionView, setFunctionView] = useState('');\r\n    \r\n    //Add school\r\n    const [addSchoolName, setAddSchoolName] = useState('');\r\n    const [addSchoolAddress, setAddSchoolAddress] = useState('');\r\n    const [addSchoolContactNumber, setAddSchoolContactNumber] = useState('');\r\n    //Assign manager\r\n    const [inputAssignManagerSchoolId, setInputAssignManagerSchoolId] = useState('');\r\n    const [inputAssignManagerId, setInputAssignManagerId] = useState('');\r\n\r\n    //FUNCTIONS\r\n    //create school\r\n    const createSchool = (e) => {\r\n        e.preventDefault();\r\n        const payload = {\r\n            name: addSchoolName,\r\n            address: addSchoolAddress,\r\n            contactNumber: addSchoolContactNumber\r\n        }\r\n        //Create new class document\r\n        axios.post('/api/schools/createSchool', payload)\r\n        .then(res => {\r\n            props.readAllSchools();\r\n            setFunctionView('');\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n    //read managers\r\n    //assign manager to school\r\n    const assignManager = (e) => {\r\n        e.preventDefault();\r\n        const chosenManager = props.managers.filter(manager => manager._id === inputAssignManagerId );\r\n        const chosenSchool = props.schools.filter(school => school._id === inputAssignManagerSchoolId);\r\n        const payload = {\r\n          \"schoolId\": chosenSchool[0]._id,\r\n          \"schoolName\": chosenSchool[0].name,\r\n          \"managerId\": chosenManager[0]._id,\r\n          \"managerName\": chosenManager[0].name\r\n        }\r\n        // console.log(payload);\r\n        axios.put(\"/api/schools/addManager\", payload)\r\n        .then((res) => {\r\n            axios.put(\"/api/managers/addSchoolRef\", payload)\r\n            .then(res => {\r\n                props.readAllSchools();\r\n                setFunctionView('');\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n    //Delete school\r\n    const deleteSchool = (e, id) => {\r\n        e.preventDefault();\r\n        axios.delete(\"/api/schools/deleteSchool/\" + id)\r\n        .then((res) => {\r\n            props.readAllSchools();\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"schools-container\">\r\n            <div className=\"section-nav\">\r\n                <div className=\"breadcrumb\">\r\n                    <p>Schools</p>\r\n                </div>\r\n                <div className=\"functions\">\r\n                    <button className=\"button-assign-manager\" onClick={() => setFunctionView(\"assign-manager\")}>assign manager</button>\r\n                    <button className=\"button-create-school\" onClick={() => setFunctionView(\"create-school\")}>create</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"functions-container\">\r\n                {functionView === \"create-school\" &&\r\n                <form >\r\n                    <div>\r\n                        <input type=\"text\" value={addSchoolName} placeholder=\"School name\" onChange={(e) => setAddSchoolName(e.target.value)} autoFocus></input>\r\n                        <input type=\"text\" value={addSchoolAddress} placeholder=\"School address\" onChange={(e) => setAddSchoolAddress(e.target.value)}></input>\r\n                        <input type=\"text\" value={addSchoolContactNumber} placeholder=\"School contact number\" onChange={(e) => setAddSchoolContactNumber(e.target.value)}></input>\r\n                    </div>\r\n                    <button onClick={createSchool}>Add school</button>\r\n                    <button onClick={() => setFunctionView(\"\")}>Cancel</button>\r\n                </form>\r\n                }\r\n                {functionView === \"assign-manager\" &&\r\n                <form>\r\n                    <div>\r\n                        <label>Choose a school: </label>\r\n                        <select value={inputAssignManagerSchoolId} onChange={(e) => setInputAssignManagerSchoolId(e.target.value)}>\r\n                            <option>Please choose a school</option>\r\n                            {props.schools.map(school => \r\n                                <option value={school._id} key={school._id}>{school.name}</option>\r\n                            )}\r\n                        </select>\r\n                        <br/>\r\n                        <label>Choose a manager: </label>\r\n                        <select value={inputAssignManagerId} onChange={(e) => setInputAssignManagerId(e.target.value)} >\r\n                            <option>Please choose a manager</option>\r\n                            {props.managers.map(manager => \r\n                                <option value={manager._id} key={manager._id}>{manager.name}</option>\r\n                            )}\r\n                        </select>\r\n                    </div>\r\n                    <button onClick={(e) => assignManager(e)}>Add manager</button>\r\n                    <button onClick={() => setFunctionView(\"\")}>Cancel</button>\r\n                </form>\r\n                }\r\n            </div>\r\n            \r\n            <div className=\"schools-info\">\r\n                {props.schools.map(school => \r\n                <div className=\"school-info\" key={school._id}>\r\n                    <h3>{school.name}</h3>\r\n                    <p>Address: {school.address}</p>\r\n                    <p>Manager: {school.manager && school.manager.managerName}</p>\r\n                    <button onClick={(e) => deleteSchool(e, school._id)}>Delete school</button>\r\n                    <br/><br/>\r\n                </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Classes","import { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Managers = (props) => {\r\n    // eslint-disable-next-line\r\n    const userToken = localStorage.getItem('userToken');\r\n    const [functionView, setFunctionView] = useState('');\r\n    //Add manager inputs\r\n    const [addManagerName, setAddManagerName] = useState('');\r\n    const [addManagerEmail, setAddManagerEmail] = useState('');\r\n    const [addManagerPassword, setAddManagerPassword] = useState('');\r\n    \r\n\r\n    //FUNCTIONS\r\n    //Create manager\r\n    const createManager = (e) => {\r\n        e.preventDefault();\r\n        const payload = {\r\n            name: addManagerName,\r\n            email: addManagerEmail,\r\n            password: addManagerPassword\r\n        }\r\n        //Create new class document\r\n        axios.post('/api/managers/createManager', payload)\r\n        .then(res => {\r\n            props.readAllManagers();\r\n            setFunctionView('');\r\n            setAddManagerName(''); setAddManagerEmail(''); setAddManagerPassword('');\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n    //Delete manager\r\n    const deleteManager = (e, id) => {\r\n        e.preventDefault();\r\n        axios.delete(\"/api/managers/deleteManager/\" + id)\r\n        .then((res) => {\r\n            props.readAllManagers();\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n    \r\n\r\n    return (\r\n        <div className=\"managers-container\">\r\n\r\n            <div className=\"section-nav\">\r\n                <div className=\"breadcrumb\">\r\n                    <p>Managers</p>\r\n                </div>\r\n                <div className=\"functions\">\r\n                    <button className=\"button-create-manager\" onClick={() => setFunctionView(\"create-manager\")}>create</button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"functions-container\">\r\n                {functionView === \"create-manager\" &&\r\n                <form className=\"add-school\">\r\n                    <input type=\"text\" value={addManagerName} placeholder=\"Manager name\" onChange={(e) => setAddManagerName(e.target.value)} autoFocus></input>\r\n                    <input type=\"text\" value={addManagerEmail} placeholder=\"Manager email\" onChange={(e) => setAddManagerEmail(e.target.value)}></input>\r\n                    <input type=\"text\" value={addManagerPassword} placeholder=\"Manager password\" onChange={(e) => setAddManagerPassword(e.target.value)}></input>\r\n                    <button onClick={createManager}>Create manager</button>\r\n                    <button onClick={() => setFunctionView(\"\")}>Cancel</button>\r\n                </form>\r\n                }\r\n            </div>\r\n\r\n            <div className=\"managers-info\">\r\n                {props.managers.map(manager => \r\n                <div className=\"manager-info\" key={manager._id}>\r\n                    <h3>{manager.name}</h3>\r\n                    <p>Email: {manager.email}</p>\r\n                    <p>School: {manager.school.schoolName}</p>\r\n                    <button onClick={(e) => deleteManager(e, manager._id)}>Delete manager</button>\r\n                    <br/>\r\n                    <br/>\r\n                </div>\r\n                )}\r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Managers","import axios from 'axios';\r\n\r\nconst Teachers = (props) => {\r\n    const userToken = localStorage.getItem('userToken');\r\n    //STATE\r\n\r\n    //FUNCTIONS\r\n    const authorizeUser = (e, id) => {\r\n        e.preventDefault();\r\n        axios.put(\"/api/teachers/authTeacher/\" + id, {\r\n        headers: {\r\n            'auth-token': userToken\r\n        }\r\n        })\r\n        .then((res) => {\r\n            console.log(res.data);\r\n            props.readAllTeachers();\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n    const deleteTeacher = (e, id) => {\r\n        e.preventDefault();\r\n        axios.delete(\"/api/teachers/deleteTeacher/\" + id, {\r\n        headers: {\r\n            'auth-token': userToken\r\n        }\r\n        })\r\n        .then((res) => {\r\n            console.log(res.data);\r\n            props.readAllTeachers();\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"teachers-container\">\r\n            <div className=\"teacher-cards\">\r\n                {props.teachers.map(teacher => \r\n                <div className=\"class-card\" key={teacher._id}>\r\n                    <h3>{teacher.name}</h3>\r\n                    <p>Auth status: {teacher.isAuthed ? \"Authorized\" : \"Unauthorized\"}</p>\r\n                    <button onClick={(e) => authorizeUser(e, teacher._id)}>Authorize</button>\r\n                    <button onClick={(e) => deleteTeacher(e, teacher._id)}>Remove teacher</button>\r\n                </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Teachers","import { useState, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport { UserContext } from '../context/UserContext';\r\n\r\nconst Classes = (props) => {\r\n    const userToken = localStorage.getItem('userToken');\r\n    //STATE\r\n    //UserData\r\n    // eslint-disable-next-line\r\n    const [userData, setUserData] = useContext(UserContext);\r\n    //Add class\r\n    const [addClassName, setAddClassName] = useState('');\r\n    const [addClassBook, setAddClassBook] = useState('');\r\n\r\n    //FUNCTIONS\r\n    const createClass = (e) => {\r\n        e.preventDefault();\r\n        const userToken = localStorage.getItem('userToken');\r\n        const payload = {\r\n            name: addClassName,\r\n            book: addClassBook,\r\n            localTeacherName: userData.name,\r\n            localTeacherId: userData._id\r\n        }\r\n        //Create new class document\r\n        axios.post('/api/classes/create', payload, {\r\n        headers: {\r\n            'auth-token': userToken\r\n        }\r\n        })\r\n        .then(res => {\r\n            //Add class to teacher document for reference\r\n            const newClasses = userData.classes;\r\n            const _class = {\r\n              \"name\": addClassName,\r\n              \"id\": res.data,\r\n              \"teacherId\": userData._id,\r\n              \"date\": Date.now()\r\n            }\r\n            newClasses.push(_class);\r\n            const payload = {\r\n                userId: userData._id,\r\n                classes: newClasses\r\n            }\r\n            axios.put(\"/api/teachers/addClass\", payload, {\r\n            headers: {\r\n                'auth-token': userToken\r\n            }\r\n            })\r\n            .then(res => {\r\n                //Update data on client\r\n                props.readAllClasses();\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n    const deleteClass = (id) => {\r\n        //Remove class document\r\n        axios.delete(\"/api/classes/delete/\" + id)\r\n        .then((res) => {\r\n            // const newClasses = userData.classes;\r\n            // const filteredClasses = newClasses.filter(_class => _class._id !== id);\r\n            // axios.put(\"/api/teachers/deleteClass\", filteredClasses, {\r\n            //     headers: {\r\n            //         'auth-token': userToken\r\n            //     }\r\n            //     })\r\n            //     .then(res => {\r\n            //         props.readAllClasses();\r\n            //         console.log(userData);\r\n            //     })\r\n            //     .catch(err => {\r\n            //         console.log(err);\r\n            //     })\r\n            //Remove class from teacher document for reference\r\n            const newClasses = userData.classes;\r\n            const filteredClasses = newClasses.filter(_class => _class.id !== id);\r\n            console.log(filteredClasses);\r\n            const payload = {\r\n                userId: userData._id,\r\n                classes: filteredClasses\r\n            }\r\n            axios.put(\"/api/teachers/deleteClass\", payload, {\r\n            headers: {\r\n                'auth-token': userToken\r\n            }\r\n            })\r\n            .then(res => {\r\n                props.readAllClasses();\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const getClassData = (id) => {\r\n        const userToken = localStorage.getItem('userToken');\r\n        axios.get('./api/classes/' + id, {\r\n        headers: {\r\n            'auth-token': userToken\r\n        }\r\n        })\r\n        .then((res) => {\r\n            console.log(res.data[0]);\r\n            props.setClassData(res.data[0]);\r\n            props.setView('class');\r\n        })\r\n\r\n        .catch((error) => {\r\n            console.error(\"Error: \" + error)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"classes-container\">\r\n            <form className=\"add-class\">\r\n                <input type=\"text\" value={addClassName} placeholder=\"Class name\" onChange={(e) => setAddClassName(e.target.value)}></input>\r\n                <input type=\"text\" value={addClassBook} placeholder=\"Class book\" onChange={(e) => setAddClassBook(e.target.value)}></input>\r\n                <button onClick={createClass}>Add class</button>\r\n            </form>\r\n            <div className=\"class-cards\">\r\n                {props.classes.map(_class => \r\n                <div className=\"class-card\" key={_class._id}>\r\n                    <h3>{_class.name}</h3>\r\n                    <p>Book: {_class.book}</p>\r\n                    <p>Local Teacher: {_class.localTeacherName}</p>\r\n                    <button onClick={(id) => getClassData(_class._id)}>View class</button><br/>\r\n                    <button onClick={(id) => deleteClass(_class._id)} className=\"delete-class-button\">Delete class</button>\r\n                </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Classes","import { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Class = (props) => {\r\n    //STATE\r\n    //Add student\r\n    const [studentName, setStudentName] = useState('');\r\n    const [studentAge, setStudentAge] = useState('');\r\n\r\n    //FUNCTIONS\r\n    const numGen = () => {\r\n        return Math.floor(Math.random() * 100000);\r\n    }\r\n    const getClassData = (id) => {\r\n        const userToken = localStorage.getItem('userToken');\r\n        axios.get('./api/classes/' + id, {\r\n        headers: {\r\n            'auth-token': userToken\r\n        }\r\n        })\r\n        .then((res) => {\r\n            console.log(res.data[0]);\r\n            props.setClassData(res.data[0]);\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error: \" + error)\r\n        })\r\n    }\r\n    //Add student\r\n    const createStudent = (e) => {\r\n        e.preventDefault();\r\n        const newClassData = props.classData;\r\n        const student = {\r\n          \"name\": studentName,\r\n          \"age\": studentAge,\r\n          \"class\": props.classData.name,\r\n          \"_id\": numGen()\r\n        }\r\n        newClassData.students.push(student);\r\n        axios.put(\"/api/classes/createStudent\", props.classData)\r\n        .then((res) => {\r\n            console.log(res.data);\r\n            // props.setClassData(newClassData);\r\n            setStudentName(''); setStudentAge('');\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n    //Remove student\r\n    const deleteStudent = (id) => {\r\n        const newClassData = props.classData;\r\n        let removeIndex = newClassData.students.map(function(student) { return student._id; }).indexOf(id);\r\n        newClassData.students.splice(removeIndex, 1);\r\n        axios.put(\"/api/classes/deleteStudent\", newClassData)\r\n        .then((res) => {\r\n            console.log(res.data);\r\n            // props.setClassData(newClassData);\r\n            getClassData(props.classData._id)\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n    }\r\n    \r\n    return (\r\n        <div className=\"class-container\">\r\n            <div className=\"class-details-container\">\r\n                <h2>{props.classData.name}</h2>\r\n                <h2>{props.classData.book}</h2>\r\n                <h2>{props.classData.localTeacher}</h2>\r\n            </div>\r\n            <form className=\"add-student-container\">\r\n                <input type=\"text\" value={studentName} placeholder=\"name...\" onChange={(e) => setStudentName(e.target.value)}></input>\r\n                <input type=\"text\" value={studentAge} placeholder=\"age...\" onChange={(e) => setStudentAge(e.target.value)}></input>\r\n                <button onClick={createStudent}>Add student</button>\r\n            </form>\r\n            <div className=\"students-container\">\r\n                {props.classData.students.map(student =>\r\n                    <div className=\"student-card\">\r\n                        <h3>{student.name}</h3>\r\n                        <p>Age: {student.age}</p>\r\n                        <button onClick={(id) => deleteStudent(student._id)}>Remove student</button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Class","export default __webpack_public_path__ + \"static/media/circle.423a605e.png\";","//Dependencies\r\nimport {useState, useContext} from 'react';\r\nimport axios from 'axios';\r\n//Components\r\nimport Schools from './Schools';\r\nimport Managers from './Managers';\r\nimport Teachers from './Teachers';\r\nimport Classes from './Classes';\r\nimport Class from './Class';\r\nimport { UserContext } from '../context/UserContext';\r\n//Icons\r\nimport { FaPowerOff, FaSchool } from 'react-icons/fa';\r\nimport { GiTeacher } from 'react-icons/gi';\r\nimport { SiGoogleclassroom } from 'react-icons/si';\r\nimport { RiDashboardFill, RiUser3Fill } from 'react-icons/ri';\r\n//Images\r\nimport Circle from '../assets/circle.png';\r\n\r\nconst Dashboard = (props) => {\r\n    const userToken = localStorage.getItem('userToken');\r\n    const [view, setView] = useState('default');\r\n    //UserData\r\n    // eslint-disable-next-line\r\n    const [userData, setUserData] = useContext(UserContext);\r\n\r\n    const [schools, setSchools] = useState({});\r\n    const [managers, setManagers] = useState({});\r\n    const [teachers, setTeachers] = useState({});\r\n    const [classes, setClasses] = useState({});\r\n    const [classData, setClassData] = useState({});\r\n\r\n    //FUNCTIONS\r\n    const logout = () => {\r\n        localStorage.clear();\r\n        props.setLoggedIn(false);\r\n    }\r\n    //Schools\r\n    const readAllSchools = () => {\r\n        axios.get('./api/schools')\r\n        .then((res) => {\r\n            setSchools(res.data);\r\n            axios.get('./api/managers')\r\n            .then(res => {\r\n                setManagers(res.data)\r\n                setView('schools');\r\n            })\r\n            .catch(err => {\r\n                console.error(\"Error: \" + err)\r\n            })\r\n        })\r\n        .catch(err => {\r\n            console.error(\"Error: \" + err)\r\n        })\r\n    }\r\n    const readAllManagers = () => {\r\n        axios.get('./api/managers')\r\n        .then((res) => {\r\n            setManagers(res.data);\r\n            setView('managers');\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error: \" + error)\r\n        })\r\n    }\r\n    //Teachers\r\n    const readAllTeachers = () => {\r\n        axios.get('./api/teachers', {\r\n        headers: {\r\n            'auth-token': userToken\r\n        }\r\n        })\r\n        .then((res) => {\r\n            setTeachers(res.data);\r\n            setView('teachers');\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error: \" + error)\r\n        })\r\n    }\r\n    //Classes\r\n    const readAllClasses = () => {\r\n        axios.get('./api/classes')\r\n        .then((res) => {\r\n            setClasses(res.data);\r\n            setView('classes');\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error: \" + error)\r\n        })\r\n    }\r\n    const readAuthorizedClasses = () => {\r\n        const classIds = userData.classes.map(item => item.id);\r\n        console.log(classIds)\r\n        axios.get('./api/classes/readAuthorizedClasses', {params: {classIds: classIds}})\r\n        .then((res) => {\r\n            setClasses(res.data);\r\n            setView('classes');\r\n        })\r\n        .catch((error) => {\r\n            console.error(\"Error: \" + error)\r\n        })\r\n    }\r\n    \r\n  \r\n    return (\r\n        <div className=\"dashboard\">\r\n            {/* SIDE-NAVIGATION */}\r\n            <div className=\"navigation-container\">\r\n                <div className=\"links\">\r\n                    <img src={Circle} alt=\"profile\" width=\"60px\"></img>\r\n                    <p>{userData.name}<br/><i>{userData.authority}</i></p>\r\n                    <p className=\"link\" onClick={() => setView('default')} ><RiDashboardFill className=\"icon\" /><br/>Dashboard</p>\r\n                    {userData.authority === 'admin' &&\r\n                        <p className=\"link\" onClick={readAllSchools} ><FaSchool className=\"icon\" /><br/>Schools</p>\r\n                    }\r\n                    {userData.authority === 'admin' &&\r\n                        <p className=\"link\" onClick={readAllManagers} ><RiUser3Fill className=\"icon\" /><br/>Managers</p>\r\n                    }\r\n                    {userData.authority === ('admin' || 'manager') &&\r\n                        <p className=\"link\" onClick={readAllTeachers} ><GiTeacher className=\"icon\" /><br/>Teachers</p>\r\n                    }\r\n                    <p className=\"link\" onClick={userData.authority === 'admin' ? readAllClasses : readAuthorizedClasses} ><SiGoogleclassroom className=\"icon\" /><br/>Classes</p>\r\n                </div>\r\n                <div className=\"logout\">\r\n                    <p onClick={logout}><FaPowerOff /></p>\r\n                </div>\r\n            </div>\r\n            {/* CONTENT-CONTAINER */}\r\n            <div className=\"content-container\">\r\n                {/* DEFAULT */}\r\n                {view === 'default' && \r\n                <div className=\"default-container\">\r\n                    {userData.authority === 'admin' &&\r\n                    <div className=\"section-card\">\r\n                        <h1>Schools</h1>\r\n                        <FaSchool className=\"icon\"/>\r\n                        <button onClick={readAllSchools}>View</button>\r\n                    </div>\r\n                    }\r\n                    {userData.authority === 'admin' &&\r\n                    <div className=\"section-card\">\r\n                        <h1>Managers</h1>\r\n                        <RiUser3Fill className=\"icon\"/>\r\n                        <button onClick={readAllManagers}>View</button>\r\n                    </div>\r\n                    }\r\n                    {userData.authority === ('admin' || 'manager') &&\r\n                    <div className=\"section-card\">\r\n                        <h1>Teachers</h1>\r\n                        <GiTeacher className=\"icon\"/>\r\n                        <button onClick={readAllTeachers}>View</button>\r\n                    </div>\r\n                    }\r\n                    {userData.authority === ('admin' || 'manager' || 'teachers') &&\r\n                    <div className=\"section-card\">\r\n                        <h1>Classes</h1>\r\n                        <SiGoogleclassroom className=\"icon\"/>\r\n                        <button onClick={userData.authority === 'admin' ? readAllClasses : readAuthorizedClasses}>View</button>\r\n                    </div>\r\n                    }\r\n                </div>\r\n                }\r\n                {/* VIEWS */}\r\n                {view === 'schools' &&\r\n                    <Schools setView={setView} userData={userData} schools={schools} readAllSchools={readAllSchools} managers={managers} />\r\n                }\r\n                {view === 'managers' &&\r\n                    <Managers setView={setView} userData={userData} managers={managers} readAllManagers={readAllManagers} schools={schools} />\r\n                }\r\n                {view === 'teachers' &&\r\n                    <Teachers setView={setView} teachers={teachers} setTeachers={setTeachers} readAllTeachers={readAllTeachers} />\r\n                }\r\n                {view === 'classes' && \r\n                    <Classes setView={setView} userData={userData} classes={classes} classData={classData} setClassData={setClassData} readAllClasses={readAllClasses} />\r\n                }\r\n                {view === 'class' &&\r\n                    <Class setView={setView} userData={userData} classes={classes} classData={classData} setClassData={setClassData} />\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default Dashboard","import {useState} from 'react';\nimport './App.css';\nimport LoginForm from './components/LoginForm';\nimport Dashboard from './components/Dashboard';\nimport { UserProvider } from './context/UserContext';\n\nfunction App() {\n  //STATE\n  //User data\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  //RENDER\n  return (\n    <UserProvider>\n      <div className=\"app\">\n        {!loggedIn &&\n          <LoginForm setLoggedIn={setLoggedIn} />\n        }\n        {loggedIn &&\n          <Dashboard setLoggedIn={setLoggedIn}/>\n        }\n      </div>\n    </UserProvider>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}