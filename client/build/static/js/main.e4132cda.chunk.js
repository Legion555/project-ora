(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{21:function(e,t,a){},22:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a(1),s=a.n(c),r=a(14),o=a.n(r),l=(a(21),a(2)),i=(a(22),a(4)),u=a.n(i),j=function(e){var t=Object(c.useState)("login"),a=Object(l.a)(t,2),s=a[0],r=(a[1],Object(c.useState)("")),o=Object(l.a)(r,2),i=o[0],j=o[1],d=Object(c.useState)(""),b=Object(l.a)(d,2),O=b[0],h=b[1],g=Object(c.useState)(""),m=Object(l.a)(g,2),p=m[0],v=m[1],x=Object(c.useState)(""),f=Object(l.a)(x,2),S=f[0],k=f[1],N=Object(c.useState)(""),C=Object(l.a)(N,2),I=C[0],w=C[1];Object(c.useEffect)((function(){var t={email:localStorage.getItem("userEmail"),password:localStorage.getItem("userPassword")};u.a.post("/api/users/login",t).then((function(t){e.setLoggedIn(!0)}))}),[]);return Object(n.jsxs)("div",{className:"auth-container",children:["login"===s&&Object(n.jsxs)("div",{className:"login-container",children:[Object(n.jsx)("input",{onChange:function(e){return j(e.target.value)},placeholder:"Email",name:"email",value:i}),Object(n.jsx)("input",{onChange:function(e){return h(e.target.value)},placeholder:"Password",name:"password",value:O}),Object(n.jsx)("button",{onClick:function(t){t.preventDefault();var a={email:i,password:O};u.a.post("/api/users/login",a).then((function(t){var a=t.headers["auth-token"];localStorage.setItem("userToken",a),localStorage.setItem("userEmail",i),localStorage.setItem("userPassword",O),e.setLoggedIn(!0)}))},children:"Login"})]}),"register"===s&&Object(n.jsx)("div",{className:"register-container",children:Object(n.jsxs)("form",{className:"input-main",children:[Object(n.jsx)("input",{onChange:function(e){return v(e.target.value)},placeholder:"Name",name:"name",value:p}),Object(n.jsx)("input",{onChange:function(e){return k(e.target.value)},placeholder:"Email",name:"email",value:S}),Object(n.jsx)("input",{onChange:function(e){return w(e.target.value)},placeholder:"Password",name:"password",value:I}),Object(n.jsx)("button",{onClick:function(e){e.preventDefault();var t={name:p,email:S,password:I};u.a.post("/api/users/register",t).then((function(e){v(""),k(""),w("")}))},children:"Register"})]})})]})},d=a(15),b=function(e){var t=Object(c.useState)({}),a=Object(l.a)(t,2),s=a[0],r=a[1],o=Object(c.useState)({}),i=Object(l.a)(o,2),j=i[0],b=i[1],O=Object(c.useState)(""),h=Object(l.a)(O,2),g=(h[0],h[1],Object(c.useState)("")),m=Object(l.a)(g,2),p=(m[0],m[1],Object(c.useState)("")),v=Object(l.a)(p,2),x=(v[0],v[1],Object(c.useState)([])),f=Object(l.a)(x,2),S=(f[0],f[1],Object(c.useState)("")),k=Object(l.a)(S,2),N=k[0],C=k[1],I=Object(c.useState)(""),w=Object(l.a)(I,2),E=w[0],L=w[1],D=Object(c.useState)(""),_=Object(l.a)(D,2),P=_[0],T=_[1],y=Object(c.useState)(""),M=Object(l.a)(y,2),A=(M[0],M[1],Object(c.useState)(0)),B=Object(l.a)(A,2),J=B[0],R=B[1];return Object(n.jsxs)("div",{className:"dashboard",children:[Object(n.jsxs)("div",{className:"navigation-container",children:[Object(n.jsx)("div",{className:"links",children:Object(n.jsx)("a",{onClick:function(){var e=localStorage.getItem("userToken");u.a.get("./api/classes",{headers:{"auth-token":e}}).then((function(e){console.log(e.data),b(e.data),C("classes")})).catch((function(e){console.error("Error: "+e)}))},children:"Classes"})}),Object(n.jsx)("div",{className:"logout",children:Object(n.jsx)("a",{onClick:function(){localStorage.clear(),e.setLoggedIn(!1)},children:Object(n.jsx)(d.a,{})})})]}),Object(n.jsxs)("div",{className:"content-container",children:[Object(n.jsx)("div",{className:"breadcrumb"}),Object(n.jsx)("div",{className:"classes-container",children:"classes"===N&&j.map((function(e){return Object(n.jsxs)("div",{className:"class-card",children:[Object(n.jsx)("h3",{children:e.name}),Object(n.jsxs)("p",{children:["Book: ",e.book]}),Object(n.jsxs)("p",{children:["Students: ",e.students.length]}),Object(n.jsx)("button",{onClick:function(t){return function(e){var t=localStorage.getItem("userToken");u.a.get("./api/classes/"+e,{headers:{"auth-token":t}}).then((function(e){console.log(e.data[0]),r(e.data[0]),C("class")})).catch((function(e){console.error("Error: "+e)}))}(e._id)},children:"View class"})]},e._id)}))}),"class"===N&&Object(n.jsxs)("div",{className:"class-dashboard",children:[Object(n.jsxs)("div",{className:"class-details-container",children:[Object(n.jsx)("h2",{children:s.name}),Object(n.jsx)("h2",{children:s.book}),Object(n.jsx)("h2",{children:s.localTeacher})]}),Object(n.jsxs)("form",{className:"add-student-container",children:[Object(n.jsx)("input",{type:"text",value:E,placeholder:"name...",onChange:function(e){return L(e.target.value)}}),Object(n.jsx)("input",{type:"text",value:P,placeholder:"age...",onChange:function(e){return T(e.target.value)}}),Object(n.jsx)("button",{onClick:function(e){e.preventDefault();var t=s,a={name:E,age:P,class:s.name,_id:Math.floor(1e5*Math.random())};t.students.push(a),u.a.put("/api/classes/createStudent",s).then((function(e){console.log(e.data),r(t),L(""),T("")})).catch((function(e){console.log(e)}))},children:"Add student"})]}),Object(n.jsx)("div",{className:"students-container",children:s.students.map((function(e){return Object(n.jsxs)("div",{className:"student-card",children:[Object(n.jsx)("h3",{children:e.name}),Object(n.jsxs)("p",{children:["Age: ",e.age]}),Object(n.jsx)("button",{onClick:function(t){return function(e){var t=s,a=t.students.map((function(e){return e._id})).indexOf(e);t.students.splice(a,1),u.a.put("/api/classes/deleteStudent",t).then((function(e){console.log(e.data),r(t),R(J+1)})).catch((function(e){console.log(e)}))}(e._id)},children:"Remove student"})]})}))})]})]})]})};var O=function(){var e=Object(c.useState)({}),t=Object(l.a)(e,2),a=t[0],s=t[1],r=Object(c.useState)(!1),o=Object(l.a)(r,2),i=o[0],u=o[1];return Object(n.jsxs)("div",{className:"app",children:[!i&&Object(n.jsx)(j,{userData:a,setUserData:s,setLoggedIn:u}),i&&Object(n.jsx)(b,{setLoggedIn:u})]})};o.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(O,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.e4132cda.chunk.js.map