(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{25:function(e,t,a){},26:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a(2),s=a.n(n),r=a(19),o=a.n(r),i=(a(25),a(3)),l=(a(26),a(4)),u=a.n(l),j=Object(n.createContext)(),d=function(e){var t=Object(n.useState)({}),a=Object(i.a)(t,2),s=a[0],r=a[1];return Object(c.jsx)(j.Provider,{value:[s,r],children:e.children})},h=function(e){var t=Object(n.useContext)(j),a=Object(i.a)(t,2),s=(a[0],a[1]),r=Object(n.useState)(""),o=Object(i.a)(r,2),l=o[0],d=o[1],h=Object(n.useState)("login"),b=Object(i.a)(h,2),m=b[0],O=b[1],f=Object(n.useState)(""),x=Object(i.a)(f,2),g=x[0],p=x[1],v=Object(n.useState)(""),k=Object(i.a)(v,2),N=k[0],C=k[1],w=Object(n.useState)(""),S=Object(i.a)(w,2),D=S[0],I=S[1],y=Object(n.useState)(""),_=Object(i.a)(y,2),E=_[0],T=_[1],V=Object(n.useState)(""),L=Object(i.a)(V,2),M=L[0],P=L[1];Object(n.useEffect)((function(){var t=localStorage.getItem("userEmail"),a=localStorage.getItem("userPassword");if(null!==t){var c={email:t,password:a};u.a.post("/api/users/login",c).then((function(a){u.a.get("/api/users",{params:{email:t}}).then((function(t){var a=t.data;s(a),e.setLoggedIn(!0)})).catch((function(e){console.log(e)}))}))}}),[]);return Object(c.jsxs)("div",{className:"auth-container",children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Login as admin"}),Object(c.jsx)("button",{onClick:function(t){t.preventDefault();u.a.post("/api/users/login",{email:"legion@gmail.com",password:"legion555"}).then((function(t){e.setLoggedIn(!0),u.a.get("/api/users",{params:{email:"legion@gmail.com"}}).then((function(e){var t=e.data;s(t)}))}))},children:"Login"})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Login as manager"}),Object(c.jsx)("button",{onClick:function(t){t.preventDefault();u.a.post("/api/users/login",{email:"testmanager@gmail.com",password:"testmanager123"}).then((function(t){e.setLoggedIn(!0),u.a.get("/api/users",{params:{email:"testmanager@gmail.com"}}).then((function(e){var t=e.data;s(t)}))}))},children:"Login"})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("div",{children:[Object(c.jsx)("h2",{children:"Login as teacher"}),Object(c.jsx)("button",{onClick:function(t){t.preventDefault();u.a.post("/api/users/login",{email:"testteacher1@gmail.com",password:"testteacher1123"}).then((function(t){e.setLoggedIn(!0),u.a.get("/api/users",{params:{email:"testteacher1@gmail.com"}}).then((function(e){var t=e.data;s(t)}))}))},children:"Login"})]}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),"login"===m&&Object(c.jsxs)("div",{className:"login-container",children:[Object(c.jsx)("h1",{children:"Login with an existing account"}),Object(c.jsxs)("form",{children:[Object(c.jsx)("input",{className:"email"===l[0]?"error":void 0,onChange:function(e){return p(e.target.value)},placeholder:"email"===l[0]?l[1]:"Email",name:"email",value:g}),Object(c.jsx)("input",{className:"password"===l[0]?"error":void 0,onChange:function(e){return C(e.target.value)},placeholder:"password"===l[0]?l[1]:"Password",name:"password",value:N}),Object(c.jsx)("button",{onClick:function(t){return function(t,a,c){t.preventDefault();var n={email:a,password:c};u.a.post("/api/users/login",n).then((function(t){switch(t.data){case'"email" is not allowed to be empty':d(["email","Email cannot be empty"]);break;case'"email" length must be at least 6 characters long':d(["email","Email must be at least 6 characters long"]),p("");break;case'"email" must be a valid email':d(["email","Must be a valid email"]),p("");break;case"email-not-found":d(["email","Email not found"]);break;case'"password" is not allowed to be empty':d(["password","Password cannot be empty"]);break;case'"password" length must be at least 6 characters long':d(["password","Password is too short"]),C("");break;case"invalid-password":d(["password","Invalid password"]),C("");break;case"user-not-authorized":d("not-authorized"),p(""),C("");break;default:var a=t.headers["auth-token"];localStorage.setItem("userToken",a),localStorage.setItem("userEmail",g),localStorage.setItem("userPassword",N),e.setLoggedIn(!0)}u.a.get("/api/users",{params:{email:g}}).then((function(e){var t=e.data;s(t)})).catch((function(e){console.log("Error: "+e)}))}))}(t,g,N)},children:"Login"})]}),"not-authorized"===l&&Object(c.jsxs)("p",{children:["Not approved yet.",Object(c.jsx)("br",{}),"Please wait for Manager's approval."]}),Object(c.jsx)("p",{className:"register-link",onClick:function(){return O("register")},children:"Register a new account"})]}),"register"===m&&Object(c.jsxs)("div",{className:"register-container",children:[Object(c.jsx)("h1",{children:"Register a new account"}),"registered"!==l&&Object(c.jsxs)("form",{className:"input-main",children:[Object(c.jsx)("input",{className:"name"===l[0]?"error":void 0,onChange:function(e){return I(e.target.value)},placeholder:"name"===l[0]?l[1]:"Name",name:"name",value:D}),Object(c.jsx)("input",{className:"email"===l[0]?"error":void 0,onChange:function(e){return T(e.target.value)},placeholder:"email"===l[0]?l[1]:"Email",name:"email",value:E}),Object(c.jsx)("input",{className:"password"===l[0]?"error":void 0,onChange:function(e){return P(e.target.value)},placeholder:"password"===l[0]?l[1]:"Password",name:"password",value:M}),Object(c.jsx)("button",{onClick:function(e){e.preventDefault();var t={name:D,email:E,password:M};u.a.post("/api/users/register",t).then((function(e){switch(e.data){case'"name" is not allowed to be empty':d(["name","Name cannot be empty"]);break;case'"email" is not allowed to be empty':d(["email","Email cannot be empty"]);break;case'"email" length must be at least 6 characters long':d(["email","Email must be at least 6 characters long"]),T("");break;case'"email" must be a valid email':d(["email","Must be a valid email"]),T("");break;case"email-duplicate":d(["email","doubleEmails"]),T("");break;case'"password" is not allowed to be empty':d(["password","Password cannot be empty"]);break;case'"password" length must be at least 6 characters long':d(["password","Password is too short"]),P("");break;default:d("registered"),I(""),T(""),P("")}})).catch((function(e){console.log(e)}))},children:"Register"})]}),"registered"===l&&Object(c.jsxs)("p",{children:["Successfully registered!",Object(c.jsx)("br",{}),"Please wait for Manager's approval."]}),Object(c.jsx)("p",{className:"login-link",onClick:function(){return O("login")},children:"Login with an existing account"})]})]})},b=function(e){localStorage.getItem("userToken");var t=Object(n.useState)(""),a=Object(i.a)(t,2),s=a[0],r=a[1],o=Object(n.useState)({}),l=Object(i.a)(o,2),j=l[0],d=l[1],h=Object(n.useState)({}),b=Object(i.a)(h,2),m=b[0],O=b[1],f=Object(n.useState)(""),x=Object(i.a)(f,2),g=x[0],p=x[1],v=Object(n.useState)(""),k=Object(i.a)(v,2),N=k[0],C=k[1],w=Object(n.useState)(""),S=Object(i.a)(w,2),D=S[0],I=S[1],y=Object(n.useState)(""),_=Object(i.a)(y,2),E=_[0],T=_[1],V=Object(n.useState)(""),L=Object(i.a)(V,2),M=L[0],P=L[1];Object(n.useEffect)((function(){A()}),[]);var A=function(){u.a.get("./api/schools").then((function(e){d(e.data),u.a.get("./api/managers").then((function(e){O(e.data)})).catch((function(e){console.error("Error: "+e)}))})).catch((function(e){console.error("Error: "+e)}))};return Object(c.jsxs)("div",{className:"schools-container",children:[Object(c.jsxs)("div",{className:"section-nav",children:[Object(c.jsx)("div",{className:"breadcrumb",children:Object(c.jsx)("p",{children:"Schools"})}),Object(c.jsxs)("div",{className:"functions",children:[Object(c.jsx)("button",{className:"button-assign-manager",onClick:function(){return r("assign-manager")},children:"assign manager"}),Object(c.jsx)("button",{className:"button-create-school",onClick:function(){return r("create-school")},children:"create"})]})]}),Object(c.jsxs)("div",{className:"functions-container",children:["create-school"===s&&Object(c.jsxs)("form",{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"text",value:g,placeholder:"School name",onChange:function(e){return p(e.target.value)},autoFocus:!0}),Object(c.jsx)("input",{type:"text",value:N,placeholder:"School address",onChange:function(e){return C(e.target.value)}}),Object(c.jsx)("input",{type:"text",value:D,placeholder:"School contact number",onChange:function(e){return I(e.target.value)}})]}),Object(c.jsx)("button",{onClick:function(t){t.preventDefault();var a={name:g,address:N,contactNumber:D};u.a.post("/api/schools/createSchool",a).then((function(t){e.readSchools(),r(""),p(""),C(""),I("")})).catch((function(e){console.log(e)}))},children:"Add school"}),Object(c.jsx)("button",{onClick:function(){return r("")},children:"Cancel"})]}),"assign-manager"===s&&Object(c.jsxs)("form",{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:"Choose a school: "}),Object(c.jsxs)("select",{value:E,onChange:function(e){return T(e.target.value)},children:[Object(c.jsx)("option",{children:"Please choose a school"}),j.map((function(e){return Object(c.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{children:"Choose a manager: "}),Object(c.jsxs)("select",{value:M,onChange:function(e){return P(e.target.value)},children:[Object(c.jsx)("option",{children:"Please choose a manager"}),m.map((function(e){return Object(c.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(c.jsx)("button",{onClick:function(e){return function(e){e.preventDefault();var t=m.filter((function(e){return e._id===M})),a=j.filter((function(e){return e._id===E})),c={schoolId:a[0]._id,schoolName:a[0].name,managerId:t[0]._id,managerName:t[0].name};u.a.put("/api/schools/addManager",c).then((function(e){u.a.put("/api/managers/addSchoolRef",c).then((function(e){A(),r("")})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}(e)},children:"Add manager"}),Object(c.jsx)("button",{onClick:function(){return r("")},children:"Cancel"})]})]}),Object(c.jsx)("div",{className:"schools-info",children:j.length>0&&j.map((function(e){return Object(c.jsxs)("div",{className:"school-info",children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsxs)("p",{children:["Address: ",e.address]}),Object(c.jsxs)("p",{children:["Manager: ",e.manager&&e.manager.name]}),Object(c.jsx)("button",{onClick:function(t){return function(e,t){e.preventDefault(),u.a.delete("/api/schools/deleteSchool/"+t).then((function(e){A()})).catch((function(e){console.log(e)}))}(t,e._id)},children:"Delete school"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{})]},e._id)}))})]})},m=function(e){localStorage.getItem("userToken");var t=Object(n.useState)(""),a=Object(i.a)(t,2),s=a[0],r=a[1],o=Object(n.useState)({}),l=Object(i.a)(o,2),j=l[0],d=l[1],h=Object(n.useState)(""),b=Object(i.a)(h,2),m=b[0],O=b[1],f=Object(n.useState)(""),x=Object(i.a)(f,2),g=x[0],p=x[1],v=Object(n.useState)(""),k=Object(i.a)(v,2),N=k[0],C=k[1];Object(n.useEffect)((function(){w()}),[]);var w=function(){u.a.get("./api/managers").then((function(e){d(e.data)})).catch((function(e){console.error("Error: "+e)}))};return Object(c.jsxs)("div",{className:"managers-container",children:[Object(c.jsxs)("div",{className:"section-nav",children:[Object(c.jsx)("div",{className:"breadcrumb",children:Object(c.jsx)("p",{children:"Managers"})}),Object(c.jsx)("div",{className:"functions",children:Object(c.jsx)("button",{className:"button-create-manager",onClick:function(){return r("create-manager")},children:"create"})})]}),Object(c.jsx)("div",{className:"functions-container",children:"create-manager"===s&&Object(c.jsxs)("form",{className:"add-school",children:[Object(c.jsx)("input",{type:"text",value:m,placeholder:"Manager name",onChange:function(e){return O(e.target.value)},autoFocus:!0}),Object(c.jsx)("input",{type:"text",value:g,placeholder:"Manager email",onChange:function(e){return p(e.target.value)}}),Object(c.jsx)("input",{type:"text",value:N,placeholder:"Manager password",onChange:function(e){return C(e.target.value)}}),Object(c.jsx)("button",{onClick:function(e){e.preventDefault();var t={name:m,email:g,password:N};u.a.post("/api/managers/createManager",t).then((function(e){w(),r(""),O(""),p(""),C("")})).catch((function(e){console.log(e)}))},children:"Create manager"}),Object(c.jsx)("button",{onClick:function(){return r("")},children:"Cancel"})]})}),Object(c.jsx)("div",{className:"managers-info",children:j.length>0&&j.map((function(e){return Object(c.jsxs)("div",{className:"manager-info",children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsxs)("p",{children:["Email: ",e.email]}),Object(c.jsxs)("p",{children:["School: ",e.school.name]}),Object(c.jsx)("button",{onClick:function(t){return function(e,t){e.preventDefault(),u.a.delete("/api/managers/deleteManager/"+t).then((function(e){w()})).catch((function(e){console.log(e)}))}(t,e._id)},children:"Delete manager"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{})]},e._id)}))})]})},O=function(e){localStorage.getItem("userToken");var t=Object(n.useState)(""),a=Object(i.a)(t,2),s=a[0],r=a[1],o=Object(n.useState)({}),l=Object(i.a)(o,2),j=l[0],d=l[1],h=Object(n.useState)(""),b=Object(i.a)(h,2),m=b[0],O=b[1],f=Object(n.useState)(""),x=Object(i.a)(f,2),g=x[0],p=x[1],v=Object(n.useState)(""),k=Object(i.a)(v,2),N=k[0],C=k[1];Object(n.useEffect)((function(){return w(),function(){d({})}}),[]);var w=function(){switch(e.userData.authority){case"admin":u.a.get("./api/teachers").then((function(e){d(e.data)})).catch((function(e){console.error("Error: "+e)}));break;case"manager":u.a.get("./api/teachers/readAuthorizedTeachers",{params:{schoolId:e.userData.school.id}}).then((function(e){d(e.data)})).catch((function(e){console.error("Error: "+e)}))}};return Object(c.jsxs)("div",{className:"teachers-container",children:[Object(c.jsxs)("div",{className:"section-nav",children:[Object(c.jsx)("div",{className:"breadcrumb",children:Object(c.jsx)("p",{children:"Teachers"})}),Object(c.jsx)("div",{className:"functions",children:Object(c.jsx)("button",{className:"button-create-teacher",onClick:function(){return r("create-teacher")},children:"create"})})]}),Object(c.jsx)("div",{className:"functions-container",children:"create-teacher"===s&&Object(c.jsxs)("form",{className:"add-school",children:[Object(c.jsx)("input",{type:"text",value:m,placeholder:"Teacher name",onChange:function(e){return O(e.target.value)},autoFocus:!0}),Object(c.jsx)("input",{type:"text",value:g,placeholder:"Teacher email",onChange:function(e){return p(e.target.value)}}),Object(c.jsx)("input",{type:"text",value:N,placeholder:"Teacher password",onChange:function(e){return C(e.target.value)}}),Object(c.jsx)("button",{onClick:function(t){t.preventDefault();var a={name:m,email:g,password:N,schoolName:e.userData.school.name,schoolId:e.userData.school.id};u.a.post("/api/teachers/createTeacher",a).then((function(e){console.log(e);var t={schoolId:e.data.school.id,teacherName:e.data.name,teacherId:e.data._id};u.a.put("/api/schools/addTeacher",t).then((function(e){w(),r(""),O(""),p(""),C("")})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},children:"Create teacher"}),Object(c.jsx)("button",{onClick:function(){return r("")},children:"Cancel"})]})}),Object(c.jsx)("div",{className:"teachers-info",children:j.length>0&&j.map((function(t){return Object(c.jsxs)("div",{className:"teacher-info",children:[Object(c.jsx)("h1",{children:t.name}),Object(c.jsxs)("p",{children:["Email:",Object(c.jsx)("br",{}),t.email]}),Object(c.jsx)("br",{}),Object(c.jsx)("p",{children:"Classes: "}),t.classes.map((function(e){return Object(c.jsx)("p",{children:e.name},e.id)})),Object(c.jsx)("button",{onClick:function(a){return function(t,a){t.preventDefault(),u.a.delete("/api/teachers/deleteTeacher/"+a).then((function(t){var c={schoolId:e.userData.school.id,teacherId:a};u.a.put("/api/schools/removeTeacher",c).then((function(e){w()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}(a,t._id)},children:"Delete teacher"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{})]},t._id)}))})]})},f=function(e){localStorage.getItem("userToken");var t=Object(n.useState)(""),a=Object(i.a)(t,2),s=a[0],r=a[1],o=Object(n.useState)({}),l=Object(i.a)(o,2),j=l[0],d=l[1],h=Object(n.useState)({}),b=Object(i.a)(h,2),m=b[0],O=b[1],f=Object(n.useState)(""),x=Object(i.a)(f,2),g=x[0],p=x[1],v=Object(n.useState)(""),k=Object(i.a)(v,2),N=k[0],C=k[1],w=Object(n.useState)(""),S=Object(i.a)(w,2),D=S[0],I=S[1];Object(n.useEffect)((function(){return y(),_(),function(){d({}),O({})}}),[]);var y=function(){switch(e.userData.authority){case"manager":u.a.get("./api/classes/readSchoolClasses",{params:{schoolId:e.userData.school.id}}).then((function(e){d(e.data)})).catch((function(e){console.error("Error: "+e)}));break;case"teacher":u.a.get("./api/classes/readTeacherClasses",{params:{teacherId:e.userData._id}}).then((function(e){d(e.data)})).catch((function(e){console.error("Error: "+e)}))}},_=function(){u.a.get("./api/teachers/readAuthorizedTeachers",{params:{schoolId:e.userData.school.id}}).then((function(e){O(e.data)})).catch((function(e){console.error("Error: "+e)}))};return Object(c.jsxs)("div",{className:"classes-container",children:[Object(c.jsxs)("div",{className:"section-nav",children:[Object(c.jsx)("div",{className:"breadcrumb",children:Object(c.jsx)("p",{children:"Classes"})}),"manager"===e.userData.authority&&Object(c.jsxs)("div",{className:"functions",children:[Object(c.jsx)("button",{className:"button-assign-teacher",onClick:function(){return r("assign-teacher")},children:"assign teacher"}),Object(c.jsx)("button",{className:"button-create-class",onClick:function(){return r("create-class")},children:"create"})]})]}),Object(c.jsxs)("div",{className:"functions-container",children:["create-class"===s&&Object(c.jsxs)("form",{className:"add-class",children:[Object(c.jsx)("input",{type:"text",value:g,placeholder:"Class name",onChange:function(e){return p(e.target.value)},autoFocus:!0}),Object(c.jsx)("button",{onClick:function(t){t.preventDefault();var a={className:g,schoolName:e.userData.school.name,schoolId:e.userData.school.id};u.a.post("/api/classes/createClass",a).then((function(t){var a={schoolId:e.userData.school.id,className:t.data.name,classId:t.data._id};u.a.put("/api/schools/addClass",a).then((function(e){y(),r(""),p("")})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))},children:"Create class"}),Object(c.jsx)("button",{onClick:function(){return r("")},children:"Cancel"})]}),"assign-teacher"===s&&Object(c.jsxs)("form",{children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:"Choose a class: "}),Object(c.jsxs)("select",{value:N,onChange:function(e){return C(e.target.value)},children:[Object(c.jsx)("option",{children:"Please choose a class"}),j.map((function(e){return"unassigned"===e.teacher.name&&Object(c.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),Object(c.jsx)("br",{}),Object(c.jsx)("label",{children:"Choose a teacher: "}),Object(c.jsxs)("select",{value:D,onChange:function(e){return I(e.target.value)},children:[Object(c.jsx)("option",{children:"Please choose a teacher"}),m.map((function(e){return Object(c.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(c.jsx)("button",{onClick:function(e){return function(e){e.preventDefault();var t=j.filter((function(e){return e._id===N})),a=m.filter((function(e){return e._id===D})),c={classId:t[0]._id,className:t[0].name,teacherId:a[0]._id,teacherName:a[0].name};u.a.put("/api/classes/addTeacher",c).then((function(e){a[0].classes.some((function(e){return e.id===t[0]._id}))?y():u.a.put("/api/teachers/addClass",c).then((function(e){y(),r("")})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}(e)},children:"Add teacher"}),Object(c.jsx)("button",{onClick:function(){return r("")},children:"Cancel"})]})]}),Object(c.jsx)("div",{className:"classes-info",children:j.length>0&&j.map((function(t){return Object(c.jsxs)("div",{className:"class-info",children:[Object(c.jsx)("h1",{children:t.name}),Object(c.jsxs)("p",{children:["Teacher: ",t.teacher.name]}),"manager"===e.userData.authority&&Object(c.jsx)("button",{onClick:function(a){return function(t,a,c){t.preventDefault(),u.a.delete("/api/classes/deleteClass/"+a).then((function(t){var n={schoolId:e.userData.school.id,classId:a,teacherId:c};u.a.put("/api/schools/removeClass",n).then((function(e){u.a.put("/api/teachers/removeClass",n),y()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)}))}(a,t._id,t.teacher.id)},children:"Delete class"}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{})]},t._id)}))})]})},x=function(e){var t=Object(n.useState)(""),a=Object(i.a)(t,2),s=a[0],r=a[1],o=Object(n.useState)(""),l=Object(i.a)(o,2),j=l[0],d=l[1],h=function(t){var a=e.classData,c=a.students.map((function(e){return e._id})).indexOf(t);a.students.splice(c,1),u.a.put("/api/classes/deleteStudent",a).then((function(t){console.log(t.data),function(t){var a=localStorage.getItem("userToken");u.a.get("./api/classes/"+t,{headers:{"auth-token":a}}).then((function(t){console.log(t.data[0]),e.setClassData(t.data[0])})).catch((function(e){console.error("Error: "+e)}))}(e.classData._id)})).catch((function(e){console.log(e)}))};return Object(c.jsxs)("div",{className:"class-container",children:[Object(c.jsxs)("div",{className:"class-details-container",children:[Object(c.jsx)("h2",{children:e.classData.name}),Object(c.jsx)("h2",{children:e.classData.book}),Object(c.jsx)("h2",{children:e.classData.localTeacher})]}),Object(c.jsxs)("form",{className:"add-student-container",children:[Object(c.jsx)("input",{type:"text",value:s,placeholder:"name...",onChange:function(e){return r(e.target.value)}}),Object(c.jsx)("input",{type:"text",value:j,placeholder:"age...",onChange:function(e){return d(e.target.value)}}),Object(c.jsx)("button",{onClick:function(t){t.preventDefault();var a=e.classData,c={name:s,age:j,class:e.classData.name,_id:Math.floor(1e5*Math.random())};a.students.push(c),u.a.put("/api/classes/createStudent",e.classData).then((function(e){console.log(e.data),r(""),d("")})).catch((function(e){console.log(e)}))},children:"Add student"})]}),Object(c.jsx)("div",{className:"students-container",children:e.classData.students.map((function(e){return Object(c.jsxs)("div",{className:"student-card",children:[Object(c.jsx)("h3",{children:e.name}),Object(c.jsxs)("p",{children:["Age: ",e.age]}),Object(c.jsx)("button",{onClick:function(t){return h(e._id)},children:"Remove student"})]})}))})]})},g=a(7),p=a(10),v=a(8),k=a(6),N=a.p+"static/media/circle.423a605e.png",C=function(e){return Object(c.jsxs)("div",{className:"section-card",children:[Object(c.jsx)("h1",{children:"Schools"}),Object(c.jsx)(g.b,{className:"icon"}),Object(c.jsx)("button",{onClick:function(){return e.setView("schools")},children:"View"})]})},w=function(e){return Object(c.jsxs)("div",{className:"section-card",children:[Object(c.jsx)("h1",{children:"Managers"}),Object(c.jsx)(k.b,{className:"icon"}),Object(c.jsx)("button",{onClick:function(){return e.setView("managers")},children:"View"})]})},S=function(e){return Object(c.jsxs)("div",{className:"section-card",children:[Object(c.jsx)("h1",{children:"Teachers"}),Object(c.jsx)(p.a,{className:"icon"}),Object(c.jsx)("button",{onClick:function(){return e.setView("teachers")},children:"View"})]})},D=function(e){return Object(c.jsxs)("div",{className:"section-card",children:[Object(c.jsx)("h1",{children:"Classes"}),Object(c.jsx)(v.a,{className:"icon"}),Object(c.jsx)("button",{onClick:function(){return e.setView("classes")},children:"View details"})]})},I=function(e){localStorage.getItem("userToken");var t=Object(n.useState)("default"),a=Object(i.a)(t,2),s=a[0],r=a[1],o=Object(n.useContext)(j),l=Object(i.a)(o,2),u=l[0];l[1];return Object(c.jsxs)("div",{className:"dashboard",children:[Object(c.jsxs)("div",{className:"navigation-container",children:[Object(c.jsxs)("div",{className:"links",children:[Object(c.jsx)("img",{src:N,alt:"profile",width:"60px"}),Object(c.jsxs)("p",{children:[u.name,Object(c.jsx)("br",{}),Object(c.jsx)("i",{children:u.authority}),Object(c.jsx)("br",{}),Object(c.jsx)("strong",{children:u.school&&u.school.name})]}),"admin"===u.authority&&Object(c.jsxs)("div",{children:[Object(c.jsxs)("p",{className:"default"===s?"link link-active":"link",onClick:function(){return r("default")},children:[Object(c.jsx)(k.a,{className:"icon"}),Object(c.jsx)("br",{}),"Dashboard"]}),Object(c.jsxs)("p",{className:"schools"===s?"link link-active":"link",onClick:function(){return r("schools")},children:[Object(c.jsx)(g.b,{className:"icon"}),Object(c.jsx)("br",{}),"Schools"]}),Object(c.jsxs)("p",{className:"managers"===s?"link link-active":"link",onClick:function(){return r("managers")},children:[Object(c.jsx)(k.b,{className:"icon"}),Object(c.jsx)("br",{}),"Managers"]})]}),"manager"===u.authority&&Object(c.jsxs)("div",{children:[Object(c.jsxs)("p",{className:"default"===s?"link link-active":"link",onClick:function(){return r("default")},children:[Object(c.jsx)(k.a,{className:"icon"}),Object(c.jsx)("br",{}),"Dashboard"]}),Object(c.jsxs)("p",{className:"teachers"===s?"link link-active":"link",onClick:function(){return r("teachers")},children:[Object(c.jsx)(p.a,{className:"icon"}),Object(c.jsx)("br",{}),"Teachers"]}),Object(c.jsxs)("p",{className:"classes"===s?"link link-active":"link",onClick:function(){return r("classes")},children:[Object(c.jsx)(v.a,{className:"icon"}),Object(c.jsx)("br",{}),"Classes"]})]}),"teacher"===u.authority&&Object(c.jsxs)("div",{children:[Object(c.jsxs)("p",{className:"default"===s?"link link-active":"link",onClick:function(){return r("default")},children:[Object(c.jsx)(k.a,{className:"icon"}),Object(c.jsx)("br",{}),"Dashboard"]}),Object(c.jsxs)("p",{className:"classes"===s?"link link-active":"link",onClick:function(){return r("classes")},children:[Object(c.jsx)(v.a,{className:"icon"}),Object(c.jsx)("br",{}),"Classes"]})]})]}),Object(c.jsx)("div",{className:"logout",children:Object(c.jsx)("p",{onClick:function(){localStorage.clear(),e.setLoggedIn(!1)},children:Object(c.jsx)(g.a,{})})})]}),Object(c.jsxs)("div",{className:"content-container",children:["default"===s&&Object(c.jsxs)("div",{className:"default-container",children:["admin"===u.authority&&Object(c.jsxs)("div",{className:"dashboard-container",children:[Object(c.jsx)(C,{setView:r}),Object(c.jsx)(w,{setView:r})]}),"manager"===u.authority&&Object(c.jsxs)("div",{className:"dashboard-container",children:[Object(c.jsx)(S,{setView:r}),Object(c.jsx)(D,{setView:r})]}),"teacher"===u.authority&&Object(c.jsx)("div",{className:"dashboard-container",children:Object(c.jsx)(D,{setView:r})})]}),"schools"===s&&Object(c.jsx)(b,{setView:r,userData:u}),"managers"===s&&Object(c.jsx)(m,{setView:r,userData:u}),"teachers"===s&&Object(c.jsx)(O,{setView:r,userData:u}),"classes"===s&&Object(c.jsx)(f,{setView:r,userData:u}),"class"===s&&Object(c.jsx)(x,{setView:r,userData:u})]})]})};var y=function(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],s=t[1];return Object(c.jsx)(d,{children:Object(c.jsxs)("div",{className:"app",children:[!a&&Object(c.jsx)(h,{setLoggedIn:s}),a&&Object(c.jsx)(I,{setLoggedIn:s})]})})};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(y,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.a11406e7.chunk.js.map