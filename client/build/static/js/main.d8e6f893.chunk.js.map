{"version":3,"sources":["components/LoginForm.js","components/Dashboard.js","App.js","index.js"],"names":["LoginForm","props","useState","view","loginEmail","setLoginEmail","loginPassword","setLoginPassword","regName","setRegName","regEmail","setRegEmail","regPassword","setRegPassword","useEffect","details","email","localStorage","getItem","password","axios","post","then","response","setLoggedIn","className","onChange","e","target","value","placeholder","name","onClick","preventDefault","userToken","headers","setItem","payload","Dashboard","studentData","setStudentData","classData","setClassData","setView","studentName","setStudentName","studentAge","setStudentAge","studentClass","setStudentClass","getStudentData","get","res","console","log","data","catch","error","id","type","length","newStudent","err","map","student","age","class","_id","delete","_class","removeItem","App","userData","setUserData","loggedIn","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d8e6f893.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\n\r\nconst LoginForm = (props) => {\r\n    //View\r\n    const [view, setView] = useState('login');\r\n    //Login\r\n    const [loginEmail, setLoginEmail] = useState('');\r\n    const [loginPassword, setLoginPassword] = useState('');\r\n    //Register\r\n    const [regName, setRegName] = useState('');\r\n    const [regEmail, setRegEmail] = useState('');\r\n    const [regPassword, setRegPassword] = useState('');\r\n\r\n    useEffect(() => {\r\n        const userEmail = localStorage.getItem('userEmail');\r\n        const userPassword = localStorage.getItem('userPassword');\r\n        const details = {\r\n            email: userEmail,\r\n            password: userPassword\r\n        }\r\n        axios.post('/api/users/login', details)\r\n        .then(function (response) {\r\n            props.setLoggedIn(true);\r\n        })\r\n    }, []);\r\n\r\n    //Login existing user - pass\r\n    const login = (e) => {\r\n        e.preventDefault();\r\n        const details = {\r\n            email: loginEmail,\r\n            password: loginPassword\r\n        }\r\n        axios.post('/api/users/login', details)\r\n        .then(function (response) {\r\n            const userToken = response.headers[\"auth-token\"];\r\n            localStorage.setItem('userToken', userToken);\r\n            localStorage.setItem('userEmail', loginEmail);\r\n            localStorage.setItem('userPassword', loginPassword);\r\n            props.setLoggedIn(true);\r\n        })\r\n    }\r\n    //Register new user\r\n    const register = (e) => {\r\n        e.preventDefault();\r\n        const payload = {\r\n        name: regName,\r\n        email: regEmail,\r\n        password: regPassword\r\n        }\r\n        axios.post('/api/users/register', payload)\r\n        .then(function (response) {\r\n        setRegName(''); setRegEmail(''); setRegPassword('');\r\n        })\r\n    }\r\n    \r\n    return (\r\n        <div className=\"auth-container\">\r\n            {view === 'login' &&\r\n            <div className=\"login-container\">\r\n                <input onChange={(e) => setLoginEmail(e.target.value)} placeholder=\"Email\" name=\"email\" value={loginEmail}></input>\r\n                <input onChange={(e) => setLoginPassword(e.target.value)} placeholder=\"Password\" name=\"password\" value={loginPassword}></input>\r\n                <button onClick={login}>Login</button>\r\n            </div>\r\n            }\r\n            {view === 'register' &&\r\n            <div className=\"register-container\">\r\n                <form className=\"input-main\">\r\n                <input onChange={(e) => setRegName(e.target.value)} placeholder=\"Name\" name=\"name\" value={regName}></input>\r\n                <input onChange={(e) => setRegEmail(e.target.value)} placeholder=\"Email\" name=\"email\" value={regEmail}></input>\r\n                <input onChange={(e) => setRegPassword(e.target.value)} placeholder=\"Password\" name=\"password\" value={regPassword}></input>\r\n                <button onClick={register}>Register</button>\r\n                </form>\r\n            </div>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginForm","import {useState} from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Dashboard = (props) => {\r\n    const [studentData, setStudentData] = useState([]);\r\n    const [classData, setClassData] = useState({});\r\n    const [view, setView] = useState('');\r\n    //Add student\r\n    const [studentName, setStudentName] = useState('');\r\n    const [studentAge, setStudentAge] = useState('');\r\n    const [studentClass, setStudentClass] = useState('');\r\n    \r\n    //FUNCTIONS\r\n    const logout = () => {\r\n        localStorage.removeItem('userEmail');\r\n        localStorage.removeItem('userPassword');\r\n        props.setLoggedIn(false);\r\n    }\r\n\r\n    const getStudentData = () => {\r\n        axios.get('./api/students/')\r\n        .then((res) => {\r\n        console.log(res.data);\r\n        setStudentData(res.data);\r\n        setView('students');\r\n        })\r\n        .catch((error) => {\r\n        console.error(\"Error: \" + error)\r\n        })\r\n    }\r\n    const getOneStudent = (id) => {\r\n        axios.get('./api/students/' + id)\r\n        .then((res) => {\r\n        console.log(res.data);\r\n        })\r\n        .catch((error) => {\r\n        console.error(\"Error: \" + error)\r\n        })\r\n    }\r\n\r\n    const getClassData = () => {\r\n        const userToken = localStorage.getItem('userToken');\r\n        axios.get('./api/classes', {\r\n        headers: {\r\n            'auth-token': userToken\r\n        }\r\n        })\r\n        .then((res) => {\r\n        console.log(res.data);\r\n        setClassData(res.data);\r\n        setView('classes');\r\n        })\r\n        .catch((error) => {\r\n        console.error(\"Error: \" + error)\r\n        })\r\n    }\r\n\r\n    //Add student\r\n    const addStudent = (e) => {\r\n        e.preventDefault();\r\n        if (studentName.length > 0) {\r\n        const newStudent = {\r\n        \"name\": studentName,\r\n        \"age\": studentAge,\r\n        \"class\": studentClass\r\n        }\r\n        axios.post(\"/api/students/register\", newStudent)\r\n        .then((res) => {\r\n            console.log(res.data);\r\n            setStudentName(''); setStudentAge(''); setStudentClass('');\r\n            getStudentData();\r\n        })\r\n        .catch((err) => {\r\n            console.log(err);\r\n        })\r\n        }\r\n    }\r\n    //Remove student\r\n    const deleteStudent = (id) => {\r\n        axios.delete(\"./api/students/delete/\" + id)\r\n        .then((res) => {\r\n        console.log(res.data);\r\n        getStudentData();\r\n        })\r\n        .catch((error) => {\r\n        console.error(\"Error: \" + error)\r\n        })\r\n    }\r\n  \r\n    return (\r\n        <div className=\"dashboard\">\r\n            <div className=\"view-selector\">\r\n                <button onClick={getStudentData}>View student data</button>\r\n                <button onClick={getClassData}>View class data</button>\r\n                <button onClick={() => getOneStudent(\"5fc9e502fa9b2f266c1824b6\")}>View one student</button>\r\n            </div>\r\n            <form>\r\n                <input type=\"text\" value={studentName} placeholder=\"name...\" onChange={(e) => setStudentName(e.target.value)}></input>\r\n                <input type=\"text\" value={studentAge} placeholder=\"age...\" onChange={(e) => setStudentAge(e.target.value)}></input>\r\n                <input type=\"text\" value={studentClass} placeholder=\"class...\" onChange={(e) => setStudentClass(e.target.value)}></input>\r\n                <button onClick={addStudent}>Add student</button>\r\n            </form>\r\n            <div className=\"content-container\">\r\n            {studentData.map(student => \r\n                <div className=\"student-card\" key={student._id}>\r\n                <p>Name: {student.name}</p>\r\n                <p>Age: {student.age}</p>\r\n                <p>Class: {student.class}</p>\r\n                <button onClick={() => deleteStudent(student._id)}>Remove</button>\r\n                </div>\r\n            )}\r\n            {view === 'classes' && classData.map(_class => \r\n                <div className=\"class-card\" key={_class._id}>\r\n                <p>{_class.name}</p>\r\n                </div>\r\n            )}\r\n            </div>\r\n            <button onClick={logout}>Logout</button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Dashboard","import {useState, useEffect} from 'react';\nimport './App.css';\nimport LoginForm from './components/LoginForm';\nimport Dashboard from './components/Dashboard';\n\nfunction App() {\n  //STATE\n  //User data\n  const [userData, setUserData] = useState({});\n  const [loggedIn, setLoggedIn] = useState(false);\n\n  //RENDER\n  return (\n    <div className=\"app\">\n      {!loggedIn &&\n        <LoginForm userData={userData} setUserData={setUserData} setLoggedIn={setLoggedIn} />\n      }\n      {loggedIn &&\n        <Dashboard setLoggedIn={setLoggedIn}/>\n      }\n    </div>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}